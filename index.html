<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sanya — Art & Words · Kurd Studio</title>
  <meta name="description" content="Kurd Studio — Sanya's sketches, paintings, poems, reflections, and a novel in progress." />
  <meta name="theme-color" content="#ec4899"/>
  <meta property="og:title" content="Kurd Studio — Sanya"/>
  <meta property="og:description" content="Sketches • Paintings • Poems • Reflections • Novel"/>
  <meta property="og:type" content="website"/>
  <meta property="og:image" content="https://picsum.photos/id/1011/1200/900"/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://picsum.photos" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400;1,600&family=Inter:wght@300;400;500;600;700&family=Caveat:wght@400;500;600;700&family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;1,400;1,500&display=swap" rel="stylesheet">
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0' y1='0' x2='1' y2='1'%3E%3Cstop stop-color='%23309d87'/%3E%3Cstop offset='1' stop-color='%237c3aed'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect x='4' y='4' width='56' height='56' rx='14' fill='url(%23g)'/%3E%3Cpath d='M22 18v28M22 32l20-14M22 32l20 14' stroke='%23e8fff8' stroke-width='6' stroke-linecap='round' stroke-linejoin='round' fill='none'/%3E%3C/svg%3E" />
  <style>
    /* ===== CSS VARIABLES ===== */
    :root {
      --space-xs: 8px;
      --space-sm: 12px;
      --space-md: 16px;
      --space-lg: 24px;
      --space-xl: 32px;
      --space-2xl: 48px;
      --space-3xl: 64px;

      --radius-sm: 8px;
      --radius-md: 12px;
      --radius-lg: 16px;
      --radius-xl: 24px;
      --radius-full: 9999px;

      --container: 1200px;
      --header-height: 72px;

      /* Typography - Artistic */
      --font-display: 'Playfair Display', Georgia, serif;
      --font-body: 'Inter', system-ui, sans-serif;
      --font-literary: 'Cormorant Garamond', Georgia, serif;
      --font-handwritten: 'Caveat', cursive;

      /* Base accent colors - Refined Rose */
      --accent-h: 338;
      --accent-s: 72%;
      --accent-l: 58%;
      --accent: hsl(var(--accent-h), var(--accent-s), var(--accent-l));
      --accent-2: #c084fc;
      --accent-3: #f9a8d4;
    }

    /* ===== DARK THEME ===== */
    [data-theme="dark"] {
      /* Backgrounds - Deep neutrals with subtle warmth */
      --bg: #121016;
      --bg-elevated: #1a171f;
      --bg-card: #211e28;
      --bg-input: #2a2633;

      /* Text - High contrast, neutral tones */
      --text-primary: #f8f7fa;
      --text-secondary: #b8b3c3;
      --text-muted: #8a8494;
      --text-inverse: #121016;

      /* Borders - Subtle, not pink */
      --border: rgba(184, 179, 195, 0.12);
      --border-strong: rgba(184, 179, 195, 0.22);

      /* Glass */
      --glass: rgba(18, 16, 22, 0.88);
      --glass-strong: rgba(18, 16, 22, 0.96);

      /* Shadows */
      --shadow-color: 270 30% 4%;
      --shadow-sm: 0 2px 8px hsl(var(--shadow-color) / 0.5);
      --shadow-md: 0 8px 24px hsl(var(--shadow-color) / 0.6);
      --shadow-lg: 0 16px 48px hsl(var(--shadow-color) / 0.7);
      --shadow-glow: 0 0 40px hsla(var(--accent-h), 60%, 50%, 0.2);

      /* Accent - Rose pink for highlights */
      --accent-text: #f9a8d4;
      --accent-bg: rgba(249, 168, 212, 0.1);
      --accent-border: rgba(249, 168, 212, 0.25);

      /* Artistic colors */
      --ink: #d8b4fe;
      --ink-light: rgba(216, 180, 254, 0.12);
      --paper: #211e28;
      --sepia: #fbbf24;
      --gold: #f472b6;

      color-scheme: dark;
    }

    /* ===== LIGHT THEME ===== */
    [data-theme="light"] {
      /* Backgrounds - Clean whites with barely-there warmth */
      --bg: #fdfcfd;
      --bg-elevated: #ffffff;
      --bg-card: #ffffff;
      --bg-input: #f9f8fa;

      /* Text - Dark neutrals for excellent readability */
      --text-primary: #1f1a24;
      --text-secondary: #524a5e;
      --text-muted: #7e7589;
      --text-inverse: #fdfcfd;

      /* Borders - Soft neutral */
      --border: rgba(82, 74, 94, 0.1);
      --border-strong: rgba(82, 74, 94, 0.18);

      /* Glass */
      --glass: rgba(253, 252, 253, 0.92);
      --glass-strong: rgba(253, 252, 253, 0.98);

      /* Shadows - Soft and warm */
      --shadow-color: 280 20% 70%;
      --shadow-sm: 0 2px 8px hsl(var(--shadow-color) / 0.15);
      --shadow-md: 0 8px 24px hsl(var(--shadow-color) / 0.18);
      --shadow-lg: 0 16px 48px hsl(var(--shadow-color) / 0.22);
      --shadow-glow: 0 0 40px hsla(var(--accent-h), 60%, 60%, 0.12);

      /* Accent - Rose for highlights, darker for readability */
      --accent: hsl(var(--accent-h), 72%, 48%);
      --accent-text: #db2777;
      --accent-bg: rgba(219, 39, 119, 0.06);
      --accent-border: rgba(219, 39, 119, 0.18);

      /* Artistic colors */
      --ink: #a855f7;
      --ink-light: rgba(168, 85, 247, 0.06);
      --paper: #faf8fc;
      --sepia: #d946ef;
      --gold: #ec4899;

      color-scheme: light;
    }

    /* ===== RESET & BASE ===== */
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html {
      scroll-behavior: smooth;
      -webkit-text-size-adjust: 100%;
    }

    body {
      font-family: 'Inter', system-ui, -apple-system, sans-serif;
      font-size: 16px;
      line-height: 1.6;
      color: var(--text-primary);
      background: var(--bg);
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* Custom Scrollbar */
    ::-webkit-scrollbar {
      width: 10px;
      height: 10px;
    }
    ::-webkit-scrollbar-track {
      background: var(--bg);
    }
    ::-webkit-scrollbar-thumb {
      background: var(--border-strong);
      border-radius: 5px;
      border: 2px solid var(--bg);
    }
    ::-webkit-scrollbar-thumb:hover {
      background: var(--accent);
    }

    /* Selection */
    ::selection {
      background: hsla(var(--accent-h), var(--accent-s), var(--accent-l), 0.3);
      color: var(--text-primary);
    }

    /* Smooth theme transitions */
    body.theme-transitioning,
    body.theme-transitioning * {
      transition: background-color 0.4s ease, border-color 0.4s ease, color 0.3s ease, box-shadow 0.4s ease !important;
    }

    img {
      max-width: 100%;
      height: auto;
      display: block;
    }

    button {
      font-family: inherit;
      cursor: pointer;
      border: none;
      background: none;
    }

    a {
      color: inherit;
      text-decoration: none;
    }

    /* ===== SKIP LINK (Accessibility) ===== */
    .skip-link {
      position: fixed;
      top: -100px;
      left: 50%;
      transform: translateX(-50%);
      background: var(--accent);
      color: var(--text-inverse);
      padding: var(--space-sm) var(--space-lg);
      border-radius: var(--radius-md);
      font-weight: 600;
      z-index: 10000;
      transition: top 0.3s ease;
    }
    .skip-link:focus {
      top: var(--space-md);
    }

    /* ===== CONTAINER ===== */
    .container {
      max-width: var(--container);
      margin: 0 auto;
      padding: 0 var(--space-lg);
      width: 100%;
    }
    @media (max-width: 640px) {
      .container { padding: 0 var(--space-md); }
    }

    /* ===== CUSTOM CURSOR (Pen Nib Style) ===== */
    @media (hover: hover) and (pointer: fine) {
      *, *::before, *::after { cursor: none !important; }

      .cursor {
        position: fixed;
        top: 0;
        left: 0;
        z-index: 10000;
        pointer-events: none;
        transition: opacity 0.2s ease;
      }
      .cursor-dot {
        position: fixed;
        width: 8px;
        height: 8px;
        background: var(--accent);
        border-radius: 50%;
        transform: translate(-50%, -50%);
        box-shadow: 0 0 12px var(--accent);
        pointer-events: none;
        transition: opacity 0.2s ease;
      }
      .cursor-ring {
        position: fixed;
        top: 0;
        left: 0;
        z-index: 9999;
        pointer-events: none;
        width: 36px;
        height: 36px;
        border: 1.5px solid var(--accent);
        border-radius: 50%;
        transform: translate(-50%, -50%);
        transition: width 0.25s cubic-bezier(0.4, 0, 0.2, 1),
                    height 0.25s cubic-bezier(0.4, 0, 0.2, 1),
                    border-color 0.25s ease,
                    opacity 0.2s ease;
        opacity: 0.4;
      }
      .cursor-ring.hover {
        width: 50px;
        height: 50px;
        opacity: 0.6;
        border-color: var(--accent-2);
      }
    }
    @media (hover: none) {
      .cursor, .cursor-ring { display: none !important; }
    }

    /* ===== ANIMATED BACKGROUND ===== */
    .bg-animation {
      position: fixed;
      inset: 0;
      z-index: -1;
      overflow: hidden;
    }
    .aurora {
      position: absolute;
      width: 150%;
      height: 150%;
      top: -25%;
      left: -25%;
      background:
        radial-gradient(ellipse 60% 40% at 20% 30%, hsla(338, 60%, 55%, 0.08), transparent 50%),
        radial-gradient(ellipse 50% 35% at 80% 20%, hsla(280, 55%, 60%, 0.06), transparent 50%),
        radial-gradient(ellipse 55% 40% at 60% 80%, hsla(320, 50%, 65%, 0.05), transparent 50%);
      animation: aurora 30s ease-in-out infinite;
    }
    @keyframes aurora {
      0%, 100% { transform: translate(0, 0) rotate(0deg); }
      33% { transform: translate(3%, 2%) rotate(2deg); }
      66% { transform: translate(-2%, 3%) rotate(-1deg); }
    }
    .grid-overlay {
      position: absolute;
      inset: 0;
      background-image:
        linear-gradient(var(--border) 1px, transparent 1px),
        linear-gradient(90deg, var(--border) 1px, transparent 1px);
      background-size: 80px 80px;
      mask-image: radial-gradient(ellipse 70% 50% at 50% 30%, black, transparent);
      opacity: 0.5;
    }

    /* ===== PARTICLES ===== */
    .particles {
      position: fixed;
      inset: 0;
      z-index: -1;
      pointer-events: none;
      overflow: hidden;
    }
    .particle {
      position: absolute;
      width: 4px;
      height: 4px;
      background: var(--accent);
      border-radius: 50%;
      opacity: 0;
      animation: floatUp linear infinite;
    }
    .particle:nth-child(odd) { background: var(--accent-2); width: 3px; height: 3px; }
    .particle:nth-child(3n) { background: var(--accent-3); width: 5px; height: 5px; }
    @keyframes floatUp {
      0% { transform: translateY(100vh) scale(0); opacity: 0; }
      10% { opacity: 0.4; }
      90% { opacity: 0.4; }
      100% { transform: translateY(-10vh) scale(1); opacity: 0; }
    }

    /* ===== PAPER TEXTURE OVERLAY ===== */
    .paper-texture {
      position: fixed;
      inset: 0;
      z-index: -1;
      pointer-events: none;
      opacity: 0.03;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
    }
    [data-theme="light"] .paper-texture { opacity: 0.04; }

    /* ===== INK DROPS ===== */
    .ink-drops {
      position: fixed;
      inset: 0;
      z-index: -1;
      pointer-events: none;
      overflow: hidden;
    }
    .ink-drop {
      position: absolute;
      border-radius: 50%;
      background: var(--ink);
      opacity: 0;
      animation: inkFall linear infinite;
    }
    .ink-drop::after {
      content: '';
      position: absolute;
      bottom: -20%;
      left: 10%;
      width: 80%;
      height: 30%;
      background: inherit;
      border-radius: 50%;
      filter: blur(2px);
      opacity: 0.5;
    }
    @keyframes inkFall {
      0% { transform: translateY(-20px) scale(0.5); opacity: 0; }
      5% { opacity: 0.15; }
      95% { opacity: 0.15; }
      100% { transform: translateY(100vh) scale(1.2); opacity: 0; }
    }

    /* ===== PRELOADER ===== */
    .preloader {
      position: fixed;
      inset: 0;
      z-index: 10000;
      display: grid;
      place-items: center;
      background: var(--bg);
      transition: opacity 0.5s ease, visibility 0.5s ease;
    }
    .preloader.hidden {
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
    }
    .lock-scroll { overflow: hidden; }

    .loader {
      position: relative;
      width: 140px;
      height: 140px;
      display: grid;
      place-items: center;
    }
    .loader .ring {
      position: absolute;
      inset: 0;
      border-radius: 50%;
      background: conic-gradient(from 0deg, var(--accent), var(--accent-2), var(--accent-3), var(--accent));
      mask: radial-gradient(farthest-side, transparent calc(50% - 6px), black calc(50% - 5px));
      animation: spin 1.2s linear infinite;
    }
    .loader .glow {
      position: absolute;
      inset: 20px;
      border-radius: 50%;
      background: radial-gradient(circle, hsla(var(--accent-h), 70%, 50%, 0.3), transparent 70%);
      filter: blur(15px);
      animation: pulse 2s ease-in-out infinite;
    }
    .k-logo {
      width: 80px;
      height: 80px;
      border-radius: var(--radius-lg);
      background: var(--bg-card);
      border: 1px solid var(--border);
      display: grid;
      place-items: center;
      box-shadow: var(--shadow-md);
    }
    .k-logo svg { width: 54px; height: 54px; }
    .brandname {
      margin-top: var(--space-lg);
      text-align: center;
      font-family: 'Playfair Display', serif;
      font-size: 18px;
      font-weight: 700;
      letter-spacing: 1px;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
    @keyframes spin { to { transform: rotate(360deg); } }
    @keyframes pulse { 0%, 100% { opacity: 0.4; } 50% { opacity: 0.7; } }

    /* ===== HEADER ===== */
    header {
      position: fixed;
      top: var(--space-md);
      left: 50%;
      transform: translateX(-50%);
      z-index: 100;
      width: calc(100% - var(--space-xl));
      max-width: var(--container);
      height: 64px;
      backdrop-filter: blur(20px) saturate(1.8);
      background: var(--glass);
      border: 1px solid var(--border);
      border-radius: var(--radius-xl);
      box-shadow: var(--shadow-lg);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      overflow: hidden;
      isolation: isolate;
    }
    header::before {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: inherit;
      padding: 1px;
      background: linear-gradient(var(--gradient-angle, 135deg), var(--accent), var(--accent-2), var(--accent-3), var(--accent));
      background-size: 300% 300%;
      animation: flowingGradient 8s ease infinite;
      mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
      mask-composite: xor;
      -webkit-mask-composite: xor;
      opacity: 0.4;
      pointer-events: none;
      transition: opacity 0.4s ease;
      z-index: 0;
    }
    @keyframes flowingGradient {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }
    /* Scroll Progress Bar */
    header::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: var(--radius-xl);
      right: var(--radius-xl);
      height: 2px;
      background: linear-gradient(90deg, var(--accent), var(--accent-2), var(--accent-3));
      border-radius: 2px;
      transform: scaleX(var(--scroll-progress, 0));
      transform-origin: left;
      transition: transform 0.1s linear;
      opacity: 0.8;
      z-index: 2;
    }
    header.scrolled {
      top: var(--space-sm);
      height: 56px;
      box-shadow: var(--shadow-lg), 0 0 30px var(--accent-bg);
    }
    header.scrolled::before {
      opacity: 0.7;
      animation-duration: 4s;
    }

    .nav {
      display: flex;
      align-items: center;
      gap: var(--space-md);
      height: 100%;
      padding: 0 var(--space-lg);
      position: relative;
      z-index: 1;
    }

    .fluid-canvas {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      border-radius: inherit;
      pointer-events: none;
      z-index: 0;
    }

    /* Brand */
    .brand {
      display: flex;
      align-items: center;
      gap: var(--space-sm);
      font-family: var(--font-display);
      font-weight: 700;
      font-size: 1.1rem;
      text-decoration: none;
      position: relative;
    }
    .brand .logo {
      width: 36px;
      height: 36px;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      animation: logoFloat 4s ease-in-out infinite;
    }
    @keyframes logoFloat {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      25% { transform: translateY(-2px) rotate(1deg); }
      75% { transform: translateY(1px) rotate(-1deg); }
    }
    .brand:hover .logo {
      animation: none;
      transform: rotate(-8deg) scale(1.1);
      filter: drop-shadow(0 0 12px var(--accent));
    }
    .brand .wordmark {
      display: flex;
      gap: 6px;
      align-items: baseline;
      overflow: hidden;
    }
    .brand .wordmark strong {
      color: var(--text-primary);
      transition: transform 0.3s ease;
    }
    .brand .wordmark em {
      font-style: normal;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      transition: transform 0.3s ease;
    }
    .brand:hover .wordmark strong { transform: translateY(-2px); }
    .brand:hover .wordmark em { transform: translateY(-2px); transition-delay: 0.05s; }

    /* Nav Links */
    .nav ul {
      margin-left: auto;
      display: flex;
      gap: var(--space-xs);
      list-style: none;
      position: relative;
    }
    .nav-pill {
      display: none;
    }
    .nav-link {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      padding: 10px 16px;
      border-radius: var(--radius-full);
      font-weight: 500;
      font-size: 0.875rem;
      color: var(--text-secondary);
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    /* Artistic brush stroke underline */
    .nav-link::before {
      content: '';
      position: absolute;
      bottom: 6px;
      left: 50%;
      width: 0;
      height: 3px;
      background: linear-gradient(90deg, var(--accent), var(--accent-2), var(--accent-3));
      border-radius: 50% 30% 50% 30%;
      transform: translateX(-50%) skewX(-5deg);
      transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s ease;
      opacity: 0;
    }
    /* Sparkle effect */
    .nav-link::after {
      content: '';
      position: absolute;
      bottom: 4px;
      left: 50%;
      width: 4px;
      height: 4px;
      background: var(--accent-3);
      border-radius: 50%;
      transform: translateX(-50%) scale(0);
      transition: transform 0.3s cubic-bezier(0.68, -0.6, 0.32, 1.6);
      opacity: 0.8;
    }
    .nav-link:hover {
      color: var(--text-primary);
    }
    .nav-link:hover::before {
      width: 28px;
      opacity: 1;
    }
    .nav-link:hover::after {
      transform: translateX(-50%) scale(1);
      animation: sparkle 0.6s ease-out;
    }
    @keyframes sparkle {
      0% { transform: translateX(-50%) scale(0); opacity: 0; }
      50% { transform: translateX(-50%) scale(1.5); opacity: 1; }
      100% { transform: translateX(-50%) scale(1); opacity: 0.8; }
    }
    .nav-link.active {
      color: var(--accent-text);
      background: var(--accent-bg);
    }
    .nav-link.active::before {
      width: 32px;
      height: 4px;
      opacity: 1;
    }
    .nav-link.active::after {
      transform: translateX(-50%) scale(1);
      opacity: 1;
      animation: none;
    }
    .nav-link svg {
      width: 16px;
      height: 16px;
      stroke: currentColor;
      fill: none;
      stroke-width: 2;
      transition: transform 0.3s ease;
    }
    .nav-link:hover svg {
      transform: scale(1.1);
    }

    /* Theme Button */
    .theme-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 42px;
      height: 42px;
      border-radius: var(--radius-full);
      border: 1px solid var(--border);
      background: var(--bg-elevated);
      color: var(--text-primary);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }
    .theme-btn::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, var(--accent-bg), transparent);
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    .theme-btn::after {
      content: '';
      position: absolute;
      inset: -50%;
      background: radial-gradient(circle, var(--accent) 0%, transparent 70%);
      opacity: 0;
      transition: opacity 0.5s ease;
      pointer-events: none;
    }
    .theme-btn.animating::after {
      animation: themeFlash 0.6s ease-out;
    }
    @keyframes themeFlash {
      0% { opacity: 0.6; transform: scale(0.5); }
      100% { opacity: 0; transform: scale(2); }
    }
    .theme-btn:hover::before { opacity: 1; }
    .theme-btn:hover {
      border-color: var(--accent);
      transform: rotate(15deg);
    }
    .theme-btn:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }
    .theme-btn svg {
      width: 18px;
      height: 18px;
      position: relative;
      z-index: 1;
      transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1), opacity 0.3s ease;
    }
    .theme-btn:hover svg { transform: scale(1.15); }

    /* Sun/Moon icons with rotation */
    .theme-btn .moon {
      opacity: 1;
      transform: rotate(0deg) scale(1);
    }
    .theme-btn .sun {
      position: absolute;
      opacity: 0;
      transform: rotate(-90deg) scale(0.5);
    }
    [data-theme="light"] .theme-btn .moon {
      opacity: 0;
      transform: rotate(90deg) scale(0.5);
    }
    [data-theme="light"] .theme-btn .sun {
      opacity: 1;
      transform: rotate(0deg) scale(1);
    }

    /* Menu Button */
    .menu-btn {
      display: none;
      align-items: center;
      justify-content: center;
      width: 44px;
      height: 44px;
      border-radius: var(--radius-full);
      border: 1px solid var(--border);
      background: var(--bg-elevated);
      color: var(--text-primary);
      margin-left: auto;
      position: relative;
      transition: all 0.3s ease;
    }
    .menu-btn::before {
      content: '';
      position: absolute;
      inset: -4px;
      border-radius: inherit;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      opacity: 0;
      z-index: -1;
      transition: opacity 0.3s ease;
    }
    .menu-btn:hover::before { opacity: 0.2; }
    .menu-btn:hover { border-color: var(--accent); }

    /* Animated Hamburger */
    .hamburger {
      width: 20px;
      height: 14px;
      position: relative;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    .hamburger span {
      display: block;
      width: 100%;
      height: 2px;
      background: currentColor;
      border-radius: 2px;
      transition: all 0.4s cubic-bezier(0.68, -0.6, 0.32, 1.6);
      transform-origin: center;
    }
    .hamburger span:nth-child(1) { width: 100%; }
    .hamburger span:nth-child(2) { width: 70%; margin-left: auto; }
    .hamburger span:nth-child(3) { width: 85%; }

    .menu-btn:hover .hamburger span { background: var(--accent); }
    .menu-btn:hover .hamburger span:nth-child(2) { width: 100%; }

    /* Hamburger to X animation */
    .menu-btn.active .hamburger span:nth-child(1) {
      transform: translateY(6px) rotate(45deg);
      width: 100%;
    }
    .menu-btn.active .hamburger span:nth-child(2) {
      opacity: 0;
      transform: translateX(10px);
      width: 100%;
    }
    .menu-btn.active .hamburger span:nth-child(3) {
      transform: translateY(-6px) rotate(-45deg);
      width: 100%;
    }

    @media (max-width: 900px) {
      header {
        height: 56px;
        top: var(--space-sm);
        width: calc(100% - var(--space-lg));
      }
      header.scrolled { height: 52px; }
      .nav { padding: 0 var(--space-md); }
      .nav ul { display: none; }
      .menu-btn { display: inline-flex; }
      .brand .wordmark { display: none; }
    }
    @media (max-width: 400px) {
      header { width: calc(100% - var(--space-md)); }
    }

    /* ===== MOBILE MENU ===== */
    .mobile-menu {
      position: fixed;
      inset: 0;
      z-index: 150;
      display: flex;
      flex-direction: column;
      background: var(--bg);
      opacity: 0;
      visibility: hidden;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .mobile-menu::before {
      content: '';
      position: absolute;
      top: -50%;
      right: -30%;
      width: 80%;
      height: 100%;
      background: radial-gradient(ellipse at center, var(--accent-bg) 0%, transparent 70%);
      pointer-events: none;
      opacity: 0.6;
    }
    .mobile-menu::after {
      content: '';
      position: absolute;
      bottom: -30%;
      left: -20%;
      width: 60%;
      height: 80%;
      background: radial-gradient(ellipse at center, hsla(280, 60%, 60%, 0.08) 0%, transparent 70%);
      pointer-events: none;
    }
    .mobile-menu.open {
      opacity: 1;
      visibility: visible;
    }

    .mobile-menu .inner {
      position: relative;
      z-index: 1;
      display: flex;
      flex-direction: column;
      height: 100%;
      max-width: var(--container);
      margin: 0 auto;
      padding: var(--space-lg);
      width: 100%;
    }

    .mobile-top {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding-bottom: var(--space-xl);
      border-bottom: 1px solid var(--border);
      margin-bottom: var(--space-xl);
    }
    .mobile-title {
      display: flex;
      align-items: center;
      gap: var(--space-sm);
      font-family: var(--font-display);
      font-weight: 700;
      font-size: 1.2rem;
    }
    .mobile-title svg {
      filter: drop-shadow(0 2px 8px var(--accent-bg));
    }

    .close-btn {
      width: 48px;
      height: 48px;
      display: grid;
      place-items: center;
      border-radius: var(--radius-full);
      border: 1px solid var(--border);
      background: var(--bg-elevated);
      color: var(--text-primary);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .close-btn:hover {
      border-color: var(--accent);
      background: var(--accent-bg);
      transform: rotate(90deg) scale(1.05);
    }
    .close-btn svg {
      width: 22px;
      height: 22px;
      stroke: currentColor;
      fill: none;
      stroke-width: 2;
    }

    .mobile-links {
      display: flex;
      flex-direction: column;
      gap: var(--space-md);
      flex: 1;
      justify-content: center;
      padding: var(--space-xl) 0;
    }

    .mobile-links a {
      display: flex;
      align-items: center;
      gap: var(--space-lg);
      padding: var(--space-lg) var(--space-xl);
      border-radius: var(--radius-xl);
      background: var(--bg-elevated);
      border: 1px solid var(--border);
      font-family: var(--font-display);
      font-size: 1.4rem;
      font-weight: 600;
      color: var(--text-primary);
      text-decoration: none;
      position: relative;
      overflow: hidden;
      opacity: 0;
      transform: translateX(-30px);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .mobile-links a::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 4px;
      background: linear-gradient(180deg, var(--accent), var(--accent-2));
      border-radius: 0 4px 4px 0;
      transform: scaleY(0);
      transition: transform 0.3s ease;
    }
    .mobile-links a:hover::before,
    .mobile-links a:focus::before {
      transform: scaleY(1);
    }
    .mobile-links a:hover,
    .mobile-links a:focus {
      border-color: var(--accent-border);
      background: var(--bg-card);
      transform: translateX(8px);
      box-shadow: var(--shadow-md);
    }
    .mobile-links a svg {
      width: 28px;
      height: 28px;
      stroke: var(--accent);
      fill: none;
      stroke-width: 1.5;
      transition: transform 0.3s ease;
    }
    .mobile-links a:hover svg {
      transform: scale(1.15);
    }

    /* Staggered animation for mobile links */
    .mobile-menu.open .mobile-links a {
      opacity: 1;
      transform: translateX(0);
    }
    .mobile-menu.open .mobile-links a:nth-child(1) { transition-delay: 0.1s; }
    .mobile-menu.open .mobile-links a:nth-child(2) { transition-delay: 0.15s; }
    .mobile-menu.open .mobile-links a:nth-child(3) { transition-delay: 0.2s; }
    .mobile-menu.open .mobile-links a:nth-child(4) { transition-delay: 0.25s; }

    .mobile-menu-footer {
      padding-top: var(--space-lg);
      border-top: 1px solid var(--border);
      text-align: center;
    }
    .mobile-menu-footer p {
      font-family: var(--font-handwritten);
      font-size: 1.2rem;
      color: var(--text-muted);
    }

    /* ===== HERO SECTION ===== */
    .hero {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--space-3xl);
      align-items: center;
      padding-top: calc(var(--header-height) + var(--space-2xl));
      padding-bottom: var(--space-3xl);
      min-height: 100vh;
    }
    @media (max-width: 960px) {
      .hero {
        grid-template-columns: 1fr;
        gap: var(--space-2xl);
        text-align: center;
        min-height: auto;
        padding-top: calc(80px + var(--space-xl));
        padding-bottom: var(--space-2xl);
      }
      .hero .copy { order: 1; }
      .hero .frame { order: 0; max-width: 400px; margin: 0 auto; }
    }

    .hero .copy { position: relative; }

    .headline {
      font-family: 'Playfair Display', serif;
      font-size: clamp(2.5rem, 7vw, 4.5rem);
      font-weight: 700;
      line-height: 1.1;
      letter-spacing: -0.02em;
      margin-bottom: var(--space-lg);
      color: var(--text-primary);
    }
    .headline em {
      font-style: normal;
      background: linear-gradient(135deg, var(--accent), var(--accent-2), var(--accent-3));
      background-size: 200% 200%;
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      animation: gradientShift 6s ease infinite;
    }
    @keyframes gradientShift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    .headline-line { display: block; overflow: hidden; }
    .headline-line span {
      display: inline-block;
      transform: translateY(100%);
      animation: slideUp 0.8s cubic-bezier(0.4, 0, 0.2, 1) forwards;
    }
    .headline-line:nth-child(2) span { animation-delay: 0.15s; }
    @keyframes slideUp { to { transform: translateY(0); } }

    .sub {
      font-size: clamp(1rem, 2vw, 1.25rem);
      color: var(--text-secondary);
      line-height: 1.7;
      max-width: 50ch;
      margin-bottom: var(--space-xl);
      opacity: 0;
      animation: fadeUp 0.8s 0.4s ease forwards;
    }
    @keyframes fadeUp {
      to { opacity: 1; transform: translateY(0); }
    }
    .sub { transform: translateY(20px); }
    @media (max-width: 960px) { .sub { margin-inline: auto; } }

    .hero-actions {
      display: flex;
      gap: var(--space-md);
      flex-wrap: wrap;
      opacity: 0;
      animation: fadeUp 0.8s 0.5s ease forwards;
      transform: translateY(20px);
    }
    @media (max-width: 960px) { .hero-actions { justify-content: center; } }

    /* Hero Floating Quote */
    .floating-quote {
      margin-bottom: var(--space-lg);
      opacity: 0;
      animation: floatIn 1s 0.2s ease forwards;
    }
    .floating-quote .handwritten {
      display: inline-block;
      padding: var(--space-sm) var(--space-lg);
      background: var(--ink-light);
      border-radius: var(--radius-full);
      border: 1px dashed var(--ink);
      animation: gentleFloat 6s ease-in-out infinite;
    }
    @keyframes floatIn {
      from { opacity: 0; transform: translateY(-20px) rotate(-2deg); }
      to { opacity: 1; transform: translateY(0) rotate(-1deg); }
    }
    @keyframes gentleFloat {
      0%, 100% { transform: translateY(0) rotate(-1deg); }
      50% { transform: translateY(-8px) rotate(1deg); }
    }
    @media (max-width: 960px) { .floating-quote { text-align: center; } }

    /* Typewriter Effect */
    .typewriter-container {
      font-family: var(--font-literary);
      font-size: 1.1rem;
      font-style: italic;
      color: var(--text-muted);
      margin-bottom: var(--space-lg);
      min-height: 1.5em;
      opacity: 0;
      animation: fadeUp 0.8s 0.6s ease forwards;
      transform: translateY(20px);
    }
    .typewriter-cursor {
      color: var(--accent);
      animation: blink 1s step-end infinite;
    }

    /* ===== BUTTONS ===== */
    .btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: var(--space-sm);
      padding: var(--space-md) var(--space-xl);
      border-radius: var(--radius-full);
      font-weight: 600;
      font-size: 0.95rem;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      border: 1px solid var(--border-strong);
      background: var(--bg-card);
      color: var(--text-primary);
      text-decoration: none;
      min-height: 48px;
      position: relative;
      overflow: hidden;
    }
    .btn::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, var(--accent-bg) 0%, transparent 50%);
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    .btn:hover::before { opacity: 1; }
    .btn:hover {
      border-color: var(--accent);
      box-shadow: var(--shadow-md), var(--shadow-glow);
      transform: translateY(-2px);
    }
    .btn:active {
      transform: translateY(0) scale(0.98);
    }
    .btn:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }
    .btn svg { width: 18px; height: 18px; flex-shrink: 0; position: relative; z-index: 1; }
    .btn span { position: relative; z-index: 1; }

    .btn.primary {
      background: linear-gradient(135deg, #db2777, #a855f7);
      border: none;
      color: #fff;
      font-weight: 700;
      box-shadow: 0 4px 16px rgba(219, 39, 119, 0.3);
    }
    .btn.primary::before {
      background: linear-gradient(135deg, rgba(255,255,255,0.2) 0%, transparent 50%);
    }
    .btn.primary:hover {
      box-shadow: var(--shadow-lg), var(--shadow-glow);
      transform: translateY(-3px) scale(1.02);
    }
    .btn.primary:active {
      transform: translateY(0) scale(0.98);
    }

    .btn.ghost {
      background: transparent;
    }
    .btn.ghost::before {
      background: var(--accent-bg);
    }

    /* ===== HERO FRAME ===== */
    .frame {
      position: relative;
      border-radius: var(--radius-xl);
      padding: var(--space-sm);
      background: var(--bg-card);
      border: 1px solid var(--border);
      box-shadow: var(--shadow-lg), var(--shadow-glow);
      transition: transform 0.5s ease;
    }
    .frame::before {
      content: '';
      position: absolute;
      inset: -2px;
      background: linear-gradient(135deg, var(--accent), var(--accent-2), var(--accent-3));
      border-radius: calc(var(--radius-xl) + 2px);
      opacity: 0;
      transition: opacity 0.3s ease;
      z-index: -1;
    }
    .frame:hover::before { opacity: 0.6; }
    .frame:hover { transform: perspective(1000px) rotateY(-2deg) rotateX(1deg); }

    .poster {
      aspect-ratio: 4/5;
      border-radius: calc(var(--radius-xl) - 4px);
      overflow: hidden;
      position: relative;
      background: var(--bg-elevated);
    }
    .poster img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.6s ease;
    }
    .frame:hover .poster img { transform: scale(1.05); }
    .poster .tag {
      position: absolute;
      left: var(--space-md);
      top: var(--space-md);
      padding: var(--space-xs) var(--space-md);
      font-size: 11px;
      font-weight: 600;
      letter-spacing: 0.5px;
      text-transform: uppercase;
      border-radius: var(--radius-full);
      background: var(--glass-strong);
      backdrop-filter: blur(8px);
      border: 1px solid var(--accent-border);
      color: var(--accent-text);
    }

    .floating-badge {
      position: absolute;
      right: -16px;
      bottom: 60px;
      padding: var(--space-sm) var(--space-lg);
      border-radius: var(--radius-full);
      background: linear-gradient(135deg, #db2777, #c084fc);
      color: #fff;
      font-weight: 600;
      font-size: 0.8rem;
      box-shadow: 0 4px 16px rgba(219, 39, 119, 0.3);
      animation: float 4s ease-in-out infinite;
    }
    @keyframes float {
      0%, 100% { transform: translateY(0) rotate(-3deg); }
      50% { transform: translateY(-15px) rotate(3deg); }
    }
    @media (max-width: 960px) { .floating-badge { right: 8px; bottom: 40px; } }

    /* ===== SECTIONS ===== */
    section {
      padding: var(--space-3xl) 0;
      scroll-margin-top: calc(var(--header-height) + var(--space-lg));
    }

    .section-header {
      text-align: center;
      margin-bottom: var(--space-2xl);
    }
    .section-tag {
      display: inline-flex;
      align-items: center;
      gap: var(--space-xs);
      padding: var(--space-xs) var(--space-md);
      border-radius: var(--radius-full);
      background: var(--accent-bg);
      border: 1px solid var(--accent-border);
      font-size: 0.75rem;
      font-weight: 600;
      letter-spacing: 0.5px;
      text-transform: uppercase;
      color: var(--accent-text);
      margin-top: var(--space-md);
      margin-bottom: var(--space-md);
    }
    .section-tag::before {
      content: '';
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: var(--accent);
      animation: blink 2s ease-in-out infinite;
    }
    @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.3; } }

    .section-title {
      font-family: 'Playfair Display', serif;
      font-size: clamp(2rem, 5vw, 3rem);
      font-weight: 700;
      margin-bottom: var(--space-sm);
      color: var(--text-primary);
    }
    .section-title span {
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
    .section-subtitle {
      font-size: clamp(1rem, 2vw, 1.125rem);
      color: var(--text-secondary);
    }

    .divider {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: var(--space-md);
      padding: var(--space-lg) 0;
      opacity: 0.6;
    }
    .divider::before,
    .divider::after {
      content: '';
      flex: 1;
      max-width: 120px;
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--ink));
    }
    .divider::after {
      background: linear-gradient(90deg, var(--ink), transparent);
    }
    .divider-icon {
      font-size: 1.2rem;
      color: var(--ink);
    }

    /* ===== ARTISTIC LITERARY STYLES ===== */
    .drop-cap::first-letter {
      float: left;
      font-family: var(--font-display);
      font-size: 4em;
      line-height: 0.8;
      padding-right: 0.1em;
      color: var(--accent);
      font-weight: 700;
    }

    .handwritten {
      font-family: var(--font-handwritten);
      font-size: 1.4em;
      color: var(--ink);
    }

    .literary-text {
      font-family: var(--font-literary);
      font-size: 1.15em;
      line-height: 1.9;
      letter-spacing: 0.01em;
    }

    .quote-artistic {
      position: relative;
      font-family: var(--font-literary);
      font-style: italic;
      font-size: 1.3em;
      line-height: 1.8;
      padding: var(--space-xl);
      padding-left: var(--space-2xl);
      color: var(--text-secondary);
      border-left: 3px solid var(--ink);
      background: var(--ink-light);
      border-radius: 0 var(--radius-md) var(--radius-md) 0;
    }
    .quote-artistic::before {
      content: '"';
      position: absolute;
      top: var(--space-sm);
      left: var(--space-md);
      font-family: var(--font-display);
      font-size: 3em;
      line-height: 1;
      color: var(--ink);
      opacity: 0.5;
    }

    .signature-wrap {
      margin-top: var(--space-xl);
      padding-top: var(--space-lg);
      border-top: 1px dashed var(--border);
    }
    .signature {
      font-family: var(--font-handwritten);
      font-size: 2.2rem;
      color: var(--ink);
      transform: rotate(-2deg);
      display: inline-block;
      position: relative;
    }
    .signature::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 2px;
      background: linear-gradient(90deg, var(--ink), transparent);
      opacity: 0.4;
    }

    .ink-splash {
      position: absolute;
      width: 100px;
      height: 100px;
      background: radial-gradient(ellipse at center, var(--ink-light) 0%, transparent 70%);
      border-radius: 50% 40% 60% 50%;
      pointer-events: none;
      opacity: 0.5;
    }

    /* ===== TABS ===== */
    .tabs {
      display: flex;
      gap: var(--space-sm);
      flex-wrap: wrap;
      justify-content: center;
      margin-bottom: var(--space-xl);
    }
    .tab {
      padding: var(--space-sm) var(--space-lg);
      border-radius: var(--radius-full);
      font-weight: 500;
      font-size: 0.9rem;
      border: 1px solid var(--border);
      background: var(--bg-card);
      color: var(--text-secondary);
      transition: all 0.25s ease;
    }
    .tab:hover {
      border-color: var(--accent-border);
      color: var(--text-primary);
      background: var(--accent-bg);
    }
    .tab:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }
    .tab.active {
      background: linear-gradient(135deg, #db2777, #a855f7);
      border-color: transparent;
      color: #fff;
      box-shadow: 0 4px 12px rgba(219, 39, 119, 0.25);
    }

    /* ===== GALLERY GRID ===== */
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: var(--space-lg);
    }
    @media (max-width: 400px) {
      .grid { grid-template-columns: 1fr; }
    }

    .card {
      position: relative;
      border-radius: var(--radius-lg);
      overflow: hidden;
      border: 1px solid var(--border);
      background: var(--bg-card);
      box-shadow: var(--shadow-sm);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      cursor: pointer;
    }
    .card::before {
      content: '';
      position: absolute;
      inset: 0;
      z-index: 2;
      background: linear-gradient(180deg, transparent 40%, rgba(0, 0, 0, 0.8));
      pointer-events: none;
      transition: opacity 0.3s ease;
    }
    .card:hover::before {
      background: linear-gradient(180deg, transparent 20%, rgba(0, 0, 0, 0.9));
    }
    .card .thumb {
      width: 100%;
      aspect-ratio: 4/3;
      object-fit: cover;
      transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1), filter 0.4s ease;
      background: linear-gradient(135deg, var(--bg-elevated) 25%, var(--bg-card) 50%, var(--bg-elevated) 75%);
      background-size: 400% 100%;
    }
    .card:hover {
      border-color: var(--accent);
      box-shadow: var(--shadow-lg), var(--shadow-glow);
      transform: translateY(-8px) scale(1.01);
    }
    .card:hover .thumb {
      transform: scale(1.08);
      filter: brightness(1.05);
    }
    .card:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }
    .card:active {
      transform: translateY(-4px) scale(0.99);
    }

    .card .meta {
      position: absolute;
      inset: auto var(--space-md) var(--space-md) var(--space-md);
      z-index: 3;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: var(--space-sm);
    }
    .pill {
      font-size: 10px;
      font-weight: 600;
      padding: 6px 12px;
      border-radius: var(--radius-full);
      background: var(--accent-bg);
      backdrop-filter: blur(8px);
      color: var(--accent-text);
      border: 1px solid var(--accent-border);
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .card .title {
      color: #fff;
      font-weight: 600;
      font-size: 0.95rem;
      text-shadow: 0 2px 8px rgba(0, 0, 0, 0.5);
    }

    /* ===== LIGHTBOX ===== */
    .lightbox {
      position: fixed;
      inset: 0;
      z-index: 200;
      display: grid;
      place-items: center;
      background: rgba(0, 0, 0, 0.9);
      backdrop-filter: blur(16px);
      padding: var(--space-lg);
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }
    .lightbox.open { opacity: 1; visibility: visible; }
    .lightbox img {
      max-width: min(1000px, 90vw);
      max-height: 85vh;
      object-fit: contain;
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-lg);
      transform: scale(0.9);
      transition: transform 0.3s ease;
    }
    .lightbox.open img { transform: scale(1); }
    .lightbox .close {
      position: fixed;
      top: var(--space-lg);
      right: var(--space-lg);
      width: 50px;
      height: 50px;
      display: grid;
      place-items: center;
      border-radius: 50%;
      border: 1px solid rgba(255, 255, 255, 0.2);
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(8px);
      color: #fff;
      transition: all 0.2s ease;
    }
    .lightbox .close:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: rotate(90deg) scale(1.1);
    }
    .lightbox .close svg { width: 24px; height: 24px; stroke: currentColor; }

    /* ===== WRITING SECTION ===== */
    .columns {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--space-lg);
    }
    @media (max-width: 900px) { .columns { grid-template-columns: 1fr; } }

    .paper {
      padding: var(--space-xl);
      border-radius: var(--radius-lg);
      border: 1px solid var(--border);
      background: var(--bg-card);
      box-shadow: var(--shadow-sm);
      transition: all 0.35s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
    }
    .paper::after {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: inherit;
      background: linear-gradient(135deg, var(--accent-bg) 0%, transparent 60%);
      opacity: 0;
      transition: opacity 0.3s ease;
      pointer-events: none;
    }
    .paper:hover::after {
      opacity: 1;
    }
    .paper:hover {
      border-color: var(--accent);
      box-shadow: var(--shadow-md), var(--shadow-glow);
      transform: translateY(-4px);
    }
    .paper .kind {
      font-size: 11px;
      font-weight: 600;
      letter-spacing: 0.5px;
      text-transform: uppercase;
      color: var(--accent-text);
      margin-bottom: var(--space-sm);
    }
    .paper h3 {
      font-family: 'Playfair Display', serif;
      font-size: clamp(1.25rem, 3vw, 1.5rem);
      font-weight: 700;
      margin-bottom: var(--space-md);
      color: var(--text-primary);
    }
    .paper p {
      color: var(--text-secondary);
      line-height: 1.8;
      margin-bottom: var(--space-md);
    }

    .more {
      display: inline-flex;
      align-items: center;
      gap: var(--space-xs);
      padding: var(--space-sm) var(--space-md);
      border-radius: var(--radius-md);
      border: 1px solid var(--accent-border);
      font-weight: 600;
      font-size: 0.875rem;
      color: var(--accent-text);
      transition: all 0.2s ease;
    }
    .more:hover {
      background: var(--accent-bg);
      transform: translateX(4px);
    }
    .more svg { width: 16px; height: 16px; transition: transform 0.2s ease; }
    .more:hover svg { transform: translateX(4px); }

    /* Reading Pop */
    .reading-pop {
      position: relative;
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: var(--radius-lg);
      padding: var(--space-xl);
      max-width: 800px;
      margin: var(--space-xl) auto 0;
      box-shadow: var(--shadow-lg), var(--shadow-glow);
      animation: popIn 0.4s ease forwards;
    }
    .reading-pop.closing { animation: popOut 0.3s ease forwards; }
    .reading-pop h3 {
      font-family: 'Playfair Display', serif;
      font-size: 1.5rem;
      margin-bottom: var(--space-md);
      color: var(--text-primary);
      padding-right: 50px;
    }
    .reading-pop p {
      color: var(--text-secondary);
      line-height: 1.9;
      margin-bottom: var(--space-sm);
    }
    .dismiss-reading {
      position: absolute;
      top: var(--space-md);
      right: var(--space-md);
      width: 40px;
      height: 40px;
      border-radius: var(--radius-md);
      border: 1px solid var(--border);
      background: var(--bg-elevated);
      color: var(--text-primary);
      display: grid;
      place-items: center;
      transition: all 0.2s ease;
    }
    .dismiss-reading:hover {
      border-color: var(--accent);
      transform: rotate(90deg);
    }
    .dismiss-reading svg { width: 18px; height: 18px; stroke: currentColor; }
    @keyframes popIn {
      from { opacity: 0; transform: translateY(20px) scale(0.95); }
      to { opacity: 1; transform: none; }
    }
    @keyframes popOut {
      from { opacity: 1; transform: none; }
      to { opacity: 0; transform: translateY(10px) scale(0.98); }
    }

    /* ===== ABOUT SECTION ===== */
    .about {
      display: grid;
      grid-template-columns: 1fr 1.3fr;
      gap: var(--space-2xl);
      align-items: center;
    }
    @media (max-width: 900px) {
      .about {
        grid-template-columns: 1fr;
        text-align: center;
      }
      .about .avatar { max-width: 350px; margin: 0 auto; }
    }

    .avatar {
      position: relative;
      border-radius: var(--radius-xl);
      overflow: hidden;
      border: 1px solid var(--border);
      box-shadow: var(--shadow-lg);
    }
    .avatar::before {
      content: '';
      position: absolute;
      inset: -3px;
      background: linear-gradient(135deg, var(--accent), var(--accent-2), var(--accent-3));
      border-radius: calc(var(--radius-xl) + 3px);
      z-index: -1;
      opacity: 0.5;
    }
    .avatar img {
      width: 100%;
      aspect-ratio: 3/4;
      object-fit: cover;
    }

    .about-content h3 {
      font-family: 'Playfair Display', serif;
      font-size: clamp(1.5rem, 4vw, 2rem);
      font-weight: 700;
      margin-bottom: var(--space-md);
      color: var(--text-primary);
    }
    .about-content p {
      color: var(--text-secondary);
      line-height: 1.8;
      margin-bottom: var(--space-md);
    }

    .stats {
      display: flex;
      gap: var(--space-lg);
      margin: var(--space-xl) 0;
      padding: var(--space-lg);
      border-radius: var(--radius-lg);
      background: var(--bg-elevated);
      border: 1px solid var(--border);
    }
    @media (max-width: 900px) { .stats { justify-content: center; } }
    .stat { text-align: center; flex: 1; }
    .stat-num {
      font-family: 'Playfair Display', serif;
      font-size: clamp(1.75rem, 4vw, 2.5rem);
      font-weight: 700;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }
    .stat-label {
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      color: var(--text-muted);
      margin-top: var(--space-xs);
    }

    /* ===== CONTACT SECTION ===== */
    .contact-wrap {
      max-width: 700px;
      margin: 0 auto;
      padding: var(--space-2xl);
      border-radius: var(--radius-xl);
      border: 1px solid var(--border);
      background: var(--bg-card);
      box-shadow: var(--shadow-md);
    }
    @media (max-width: 640px) {
      .contact-wrap { padding: var(--space-lg); }
    }

    .contact-form {
      display: flex;
      flex-direction: column;
      gap: var(--space-lg);
    }
    .contact-form .row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--space-md);
    }
    @media (max-width: 600px) {
      .contact-form .row { grid-template-columns: 1fr; }
    }

    .field {
      display: flex;
      flex-direction: column;
      gap: var(--space-xs);
    }
    .field label {
      font-size: 0.8rem;
      font-weight: 600;
      letter-spacing: 0.3px;
      text-transform: uppercase;
      color: var(--text-secondary);
      transition: color 0.2s ease;
    }
    .field:focus-within label {
      color: var(--accent-text);
    }
    .field input,
    .field textarea {
      padding: var(--space-md);
      border-radius: var(--radius-md);
      border: 1px solid var(--border);
      background: var(--bg-input);
      color: var(--text-primary);
      font-size: 1rem;
      font-family: inherit;
      transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .field input:hover,
    .field textarea:hover {
      border-color: var(--border-strong);
      background: var(--bg-card);
    }
    .field input:focus,
    .field textarea:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 3px var(--accent-bg), inset 0 0 0 1px var(--accent);
      background: var(--bg-card);
    }
    .field input::placeholder,
    .field textarea::placeholder {
      color: var(--text-muted);
      transition: opacity 0.2s ease;
    }
    .field input:focus::placeholder,
    .field textarea:focus::placeholder {
      opacity: 0.5;
    }
    .field textarea {
      resize: vertical;
      min-height: 140px;
    }

    .form-actions {
      display: flex;
      gap: var(--space-sm);
      justify-content: flex-end;
      padding-top: var(--space-sm);
    }
    @media (max-width: 400px) {
      .form-actions {
        flex-direction: column;
      }
      .form-actions .btn { width: 100%; }
    }

    /* ===== FOOTER ===== */
    footer {
      margin-top: var(--space-3xl);
      background: var(--bg-elevated);
      border-top: 1px solid var(--border);
      position: relative;
    }
    footer::before {
      content: '';
      position: absolute;
      inset: 0 0 auto 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--accent), var(--accent-2), transparent);
    }

    .footer-quote {
      text-align: center;
      padding: var(--space-xl) var(--space-lg);
      border-bottom: 1px dashed var(--border);
    }
    .footer-quote .handwritten {
      display: block;
      font-size: 1.5rem;
      margin-bottom: var(--space-sm);
    }
    .quote-attr {
      font-family: var(--font-literary);
      font-style: italic;
      color: var(--text-muted);
      font-size: 0.9rem;
    }

    .foot {
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: var(--space-lg);
      padding: var(--space-2xl) 0;
    }
    @media (max-width: 700px) {
      .foot {
        flex-direction: column;
        text-align: center;
      }
    }

    .foot .brand-mini {
      display: flex;
      align-items: center;
      gap: var(--space-sm);
      font-family: 'Playfair Display', serif;
      font-weight: 700;
    }
    .foot .brand-mini svg { width: 32px; height: 32px; }
    .foot .legal {
      color: var(--text-muted);
      font-size: 0.875rem;
    }

    .social {
      display: flex;
      gap: var(--space-sm);
    }
    .social a {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 46px;
      height: 46px;
      border-radius: var(--radius-md);
      border: 1px solid var(--border);
      background: var(--bg-card);
      transition: all 0.2s ease;
    }
    .social a:hover {
      border-color: var(--accent);
      transform: translateY(-4px);
      box-shadow: var(--shadow-sm), var(--shadow-glow);
    }
    .social a:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }
    .social a svg { width: 22px; height: 22px; }

    /* ===== BACK TO TOP ===== */
    .back-to-top {
      position: fixed;
      right: var(--space-lg);
      bottom: var(--space-lg);
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--accent), var(--accent-2));
      color: #fff;
      display: grid;
      place-items: center;
      box-shadow: var(--shadow-md);
      transform: translateY(100px);
      transition: all 0.3s ease;
      z-index: 90;
    }
    .back-to-top.show { transform: translateY(0); }
    .back-to-top:hover {
      transform: translateY(-4px) scale(1.1);
      box-shadow: var(--shadow-lg), var(--shadow-glow);
    }
    .back-to-top:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 4px;
    }
    .back-to-top svg { width: 24px; height: 24px; stroke: currentColor; }

    /* ===== SCROLL REVEAL ===== */
    .reveal {
      opacity: 0;
      transform: translateY(30px);
      transition: all 0.7s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .reveal.visible {
      opacity: 1;
      transform: none;
    }
    .reveal-delay-1 { transition-delay: 0.1s; }
    .reveal-delay-2 { transition-delay: 0.2s; }

    .stagger-children > * {
      opacity: 0;
      transform: translateY(20px);
      transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    }
    .stagger-children.visible > *:nth-child(1) { transition-delay: 0.1s; }
    .stagger-children.visible > *:nth-child(2) { transition-delay: 0.15s; }
    .stagger-children.visible > *:nth-child(3) { transition-delay: 0.2s; }
    .stagger-children.visible > *:nth-child(4) { transition-delay: 0.25s; }
    .stagger-children.visible > *:nth-child(5) { transition-delay: 0.3s; }
    .stagger-children.visible > *:nth-child(6) { transition-delay: 0.35s; }
    .stagger-children.visible > * {
      opacity: 1;
      transform: none;
    }

    /* ===== REDUCED MOTION ===== */
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
      .cursor, .cursor-ring { display: none !important; }
    }
  </style>
</head>
<body class="lock-scroll">
  <!-- Skip Link -->
  <a href="#main" class="skip-link">Skip to main content</a>

  <!-- Animated Background -->
  <div class="bg-animation">
    <div class="aurora"></div>
    <div class="grid-overlay"></div>
  </div>

  <!-- Floating Particles -->
  <div class="particles" id="particles"></div>

  <!-- Paper Texture Overlay -->
  <div class="paper-texture"></div>

  <!-- Ink Drops -->
  <div class="ink-drops" id="inkDrops"></div>

  <!-- Custom Cursor -->
  <div class="cursor" id="cursor">
    <div class="cursor-dot"></div>
  </div>
  <div class="cursor-ring" id="cursorRing"></div>

  <!-- Preloader -->
  <div class="preloader" id="preloader" aria-live="polite">
    <div>
      <div class="loader">
        <div class="ring"></div>
        <div class="glow"></div>
        <div class="k-logo">
          <svg viewBox="0 0 64 64">
            <defs>
              <linearGradient id="logo-g-pre" x1="0" y1="0" x2="1" y2="1">
                <stop stop-color="#ec4899"/>
                <stop offset="1" stop-color="#a855f7"/>
              </linearGradient>
            </defs>
            <rect x="4" y="4" width="56" height="56" rx="14" fill="url(#logo-g-pre)"/>
            <path d="M22 18v28M22 32l20-14M22 32l20 14" stroke="#fff" stroke-width="6" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
          </svg>
        </div>
      </div>
      <div class="brandname">Kurd Studio</div>
    </div>
  </div>

  <header>
    <div class="container nav">
      <a href="#" class="brand" aria-label="Kurd Studio Home">
        <svg class="logo" viewBox="0 0 64 64" aria-hidden="true">
          <defs>
            <linearGradient id="logo-g" x1="0" y1="0" x2="1" y2="1">
              <stop stop-color="#ec4899"/>
              <stop offset="1" stop-color="#a855f7"/>
            </linearGradient>
          </defs>
          <rect x="4" y="4" width="56" height="56" rx="14" fill="url(#logo-g)"/>
          <path d="M22 18v28M22 32l20-14M22 32l20 14" stroke="#fff" stroke-width="6" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        </svg>
        <span class="wordmark"><strong>Kurd</strong> <em>Studio</em></span>
      </a>

      <ul role="navigation" aria-label="Main navigation">
        <li class="nav-pill" aria-hidden="true"></li>
        <li><a href="#gallery" class="nav-link">
          <svg viewBox="0 0 24 24" aria-hidden="true"><rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="3" width="7" height="7" rx="1"/><rect x="3" y="14" width="7" height="7" rx="1"/><rect x="14" y="14" width="7" height="7" rx="1"/></svg>
          Gallery</a></li>
        <li><a href="#writing" class="nav-link">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M3 6h18M3 12h12M3 18h8"/></svg>
          Writing</a></li>
        <li><a href="#about" class="nav-link">
          <svg viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="8" r="4"/><path d="M4 21c2-4 6-6 8-6s6 2 8 6"/></svg>
          About</a></li>
        <li><a href="#contact" class="nav-link">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M21 11.5a8.4 8.4 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.4 8.4 0 0 1-3.8-.9L3 21l1.9-5.7a8.4 8.4 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.4 8.4 0 0 1 3.8-.9h.5a8.5 8.5 0 0 1 8 8v.5z"/></svg>
          Contact</a></li>
      </ul>

      <button id="themeToggle" class="theme-btn" aria-label="Toggle theme">
        <svg class="moon" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
        <svg class="sun" viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="12" r="5" fill="currentColor"/><g stroke="currentColor" stroke-width="2"><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></g></svg>
      </button>

      <button class="menu-btn" id="menuBtn" aria-label="Open menu" aria-expanded="false">
        <div class="hamburger" aria-hidden="true">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </button>
    </div>
  </header>

  <!-- Mobile Menu -->
  <div class="mobile-menu" id="mobileMenu" aria-hidden="true" role="dialog" aria-label="Navigation menu">
    <div class="inner">
      <div class="mobile-top">
        <div class="mobile-title">
          <svg width="28" height="28" viewBox="0 0 64 64" aria-hidden="true">
            <defs><linearGradient id="m-g" x1="0" y1="0" x2="1" y2="1"><stop stop-color="#ec4899"/><stop offset="1" stop-color="#a855f7"/></linearGradient></defs>
            <rect x="6" y="6" width="52" height="52" rx="12" fill="url(#m-g)"/>
            <path d="M22 20v24M22 32l18-12M22 32l18 12" stroke="#fff" stroke-width="5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
          </svg>
          Kurd Studio
        </div>
        <div style="display:flex; gap:10px">
          <button id="themeToggleMobile" class="theme-btn" aria-label="Toggle theme">
            <svg class="moon" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
            <svg class="sun" viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="12" r="5" fill="currentColor"/></svg>
          </button>
          <button class="close-btn" id="closeMenu" aria-label="Close menu">
            <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M6 6l12 12M18 6L6 18"/></svg>
          </button>
        </div>
      </div>

      <nav class="mobile-links" aria-label="Mobile navigation">
        <a href="#gallery">
          <svg viewBox="0 0 24 24" aria-hidden="true"><rect x="3" y="3" width="7" height="7" rx="1"/><rect x="14" y="3" width="7" height="7" rx="1"/><rect x="3" y="14" width="7" height="7" rx="1"/><rect x="14" y="14" width="7" height="7" rx="1"/></svg>
          Gallery
        </a>
        <a href="#writing">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M3 6h18M3 12h12M3 18h8"/></svg>
          Writing
        </a>
        <a href="#about">
          <svg viewBox="0 0 24 24" aria-hidden="true"><circle cx="12" cy="8" r="4"/><path d="M4 21c2-4 6-6 8-6s6 2 8 6"/></svg>
          About
        </a>
        <a href="#contact">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M21 11.5a8.4 8.4 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.4 8.4 0 0 1-3.8-.9L3 21l1.9-5.7a8.4 8.4 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.4 8.4 0 0 1 3.8-.9h.5a8.5 8.5 0 0 1 8 8v.5z"/></svg>
          Contact
        </a>
      </nav>
      <div class="mobile-menu-footer">
        <p>Art · Words · Dreams</p>
      </div>
    </div>
  </div>

  <main id="main">
    <!-- Hero Section -->
    <section class="hero container">
      <div class="copy">
        <div class="hero-quote floating-quote">
          <span class="handwritten">"Create the beauty you wish to see in the world"</span>
        </div>
        <h1 class="headline">
          <span class="headline-line"><span>Art that feels.</span></span>
          <span class="headline-line"><span>Words that <em>linger</em>.</span></span>
        </h1>
        <p class="sub literary-text">Sketches and paintings that breathe, poems and reflections that listen. Explore a living portfolio of visuals and verse — curated by Sanya.</p>
        <div class="typewriter-container">
          <span class="typewriter-text"></span><span class="typewriter-cursor">|</span>
        </div>
        <div class="hero-actions">
          <a href="#gallery" class="btn primary">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><circle cx="12" cy="12" r="10"/><polygon points="10,8 16,12 10,16" fill="currentColor"/></svg>
            Explore Gallery
          </a>
          <a href="#writing" class="btn ghost">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"/></svg>
            Read the Words
          </a>
        </div>
      </div>
      <div class="frame">
        <figure class="poster">
          <img loading="eager" src="https://picsum.photos/id/1011/1200/1500" alt="Featured artwork: Abstract oil painting on canvas"/>
          <figcaption class="tag">Featured · Oil on canvas</figcaption>
        </figure>
        <div class="floating-badge">New Collection</div>
      </div>
    </section>

    <div class="divider"><svg class="divider-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 19l-7-7 7-7M12 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round"/></svg></div>

    <!-- Gallery Section -->
    <section id="gallery" class="container" aria-labelledby="gallery-title">
      <div class="section-header reveal">
        <div class="section-tag">Portfolio</div>
        <h2 class="section-title" id="gallery-title">Creative <span>Gallery</span></h2>
        <p class="section-subtitle">Sketches · Paintings · Mixed Media</p>
      </div>

      <div class="tabs reveal reveal-delay-1" id="galleryTabs" role="tablist" aria-label="Filter gallery by category">
        <button class="tab active" role="tab" aria-selected="true" data-filter="all">All Works</button>
        <button class="tab" role="tab" aria-selected="false" data-filter="sketch">Sketches</button>
        <button class="tab" role="tab" aria-selected="false" data-filter="painting">Paintings</button>
        <button class="tab" role="tab" aria-selected="false" data-filter="mixed">Mixed Media</button>
      </div>

      <div class="grid stagger-children" id="grid" role="list">
        <article class="card" data-kind="painting" role="listitem" tabindex="0">
          <img class="thumb" loading="lazy" src="https://picsum.photos/id/1025/800/600" alt="Painting: Dawn at the Quay"/>
          <div class="meta"><span class="pill">Painting</span><span class="title">Dawn at the Quay</span></div>
        </article>
        <article class="card" data-kind="sketch" role="listitem" tabindex="0">
          <img class="thumb" loading="lazy" src="https://picsum.photos/id/1067/800/600" alt="Sketch: Lines of Silence"/>
          <div class="meta"><span class="pill">Sketch</span><span class="title">Lines of Silence</span></div>
        </article>
        <article class="card" data-kind="mixed" role="listitem" tabindex="0">
          <img class="thumb" loading="lazy" src="https://picsum.photos/id/1035/800/600" alt="Mixed Media: Orbiting Thought"/>
          <div class="meta"><span class="pill">Mixed</span><span class="title">Orbiting Thought</span></div>
        </article>
        <article class="card" data-kind="painting" role="listitem" tabindex="0">
          <img class="thumb" loading="lazy" src="https://picsum.photos/id/1043/800/600" alt="Painting: Tide and Ember"/>
          <div class="meta"><span class="pill">Painting</span><span class="title">Tide & Ember</span></div>
        </article>
        <article class="card" data-kind="sketch" role="listitem" tabindex="0">
          <img class="thumb" loading="lazy" src="https://picsum.photos/id/1050/800/600" alt="Sketch: Paper Wings"/>
          <div class="meta"><span class="pill">Sketch</span><span class="title">Paper Wings</span></div>
        </article>
        <article class="card" data-kind="mixed" role="listitem" tabindex="0">
          <img class="thumb" loading="lazy" src="https://picsum.photos/id/106/800/600" alt="Mixed Media: Echo Layers"/>
          <div class="meta"><span class="pill">Mixed</span><span class="title">Echo Layers</span></div>
        </article>
      </div>
    </section>

    <div class="divider"><svg class="divider-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 19l-7-7 7-7M12 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round"/></svg></div>

    <!-- Writing Section -->
    <section id="writing" class="container" aria-labelledby="writing-title">
      <div class="section-header reveal">
        <div class="section-tag">Literature</div>
        <h2 class="section-title" id="writing-title">Words & <span>Stories</span></h2>
        <p class="section-subtitle">Reflections · Poems · Novel in Progress</p>
      </div>

      <div class="tabs reveal reveal-delay-1" id="writingTabs" role="tablist" aria-label="Filter writing by type">
        <button class="tab active" role="tab" aria-selected="true" data-k="reflection">Reflections</button>
        <button class="tab" role="tab" aria-selected="false" data-k="poem">Poems</button>
        <button class="tab" role="tab" aria-selected="false" data-k="novel">Novel</button>
      </div>

      <div class="columns reveal reveal-delay-2" id="writingCols">
        <article class="paper" data-kind="reflection">
          <div class="kind">Reflection · October 2025</div>
          <h3>The Day We Painted Quiet</h3>
          <p class="literary-text drop-cap">The studio window learned our names before we learned the light. Dust floated like tiny planets and every brushstroke spun its own gravity. I kept thinking about how silence is not the absence of sound, but the shape of attention.</p>
          <a class="more" href="#" data-read="reflection-1">
            Read full reflection
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
          </a>
        </article>

        <article class="paper" data-kind="poem" hidden>
          <div class="kind">Poetry Collection</div>
          <h3>Featured Poems</h3>
          <p><strong>1) Blueprint of a City I Loved</strong> — a cartography of rooftops and night names.</p>
          <a class="more" href="#" data-read="poem-1">Read poem <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M5 12h14M12 5l7 7-7 7"/></svg></a>
          <p style="margin-top:14px"><strong>2) How Graphite Sleeps</strong> — the pencil becomes a moth.</p>
          <a class="more" href="#" data-read="poem-2">Read poem <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M5 12h14M12 5l7 7-7 7"/></svg></a>
          <p style="margin-top:14px"><strong>3) If We Carry Water</strong> — love as a vessel.</p>
          <a class="more" href="#" data-read="poem-3">Read poem <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M5 12h14M12 5l7 7-7 7"/></svg></a>
        </article>

        <article class="paper" data-kind="novel" hidden>
          <div class="kind">Novel · The Quiet Meridian</div>
          <h3>Excerpts</h3>
          <p>Two cities, one river, and a chorus of small, stubborn miracles.</p>
          <div style="display:flex; gap:12px; flex-wrap:wrap; margin-top:16px">
            <a class="more" href="#" data-read="novel-1">Excerpt I <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M5 12h14M12 5l7 7-7 7"/></svg></a>
            <a class="more" href="#" data-read="novel-2">Excerpt II <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><path d="M5 12h14M12 5l7 7-7 7"/></svg></a>
          </div>
        </article>
      </div>
    </section>

    <div class="divider"><svg class="divider-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 19l-7-7 7-7M12 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round"/></svg></div>

    <!-- About Section -->
    <section id="about" class="container" aria-labelledby="about-title">
      <div class="section-header reveal">
        <div class="section-tag">About Me</div>
        <h2 class="section-title" id="about-title">Meet <span>Sanya</span></h2>
        <p class="section-subtitle">Artist · Writer · Dreamer of beautiful things</p>
      </div>

      <div class="about">
        <div class="avatar reveal">
          <img loading="lazy" src="https://picsum.photos/id/1005/900/1200" alt="Portrait of Sanya, the artist"/>
        </div>
        <div class="about-content reveal reveal-delay-1">
          <h3>Creating with purpose, feeling with intention</h3>
          <p>Hi, I'm Sanya. I draw because graphite understands what words can't. I paint because colors argue beautifully. I write to translate the hush between both.</p>
          <p>Commission inquiries, collaboration ideas, or just a hello are always welcome.</p>

          <div class="stats">
            <div class="stat">
              <div class="stat-num">50+</div>
              <div class="stat-label">Artworks</div>
            </div>
            <div class="stat">
              <div class="stat-num">30+</div>
              <div class="stat-label">Poems</div>
            </div>
            <div class="stat">
              <div class="stat-num">5</div>
              <div class="stat-label">Years</div>
            </div>
          </div>

          <div class="hero-actions">
            <a class="btn primary" href="#contact">Work with me</a>
            <a class="btn ghost" href="#gallery">View portfolio</a>
          </div>

          <div class="signature-wrap">
            <span class="signature">— Sanya</span>
          </div>
        </div>
      </div>
    </section>

    <div class="divider"><svg class="divider-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 19l-7-7 7-7M12 5l7 7-7 7" stroke-linecap="round" stroke-linejoin="round"/></svg></div>

    <!-- Contact Section -->
    <section id="contact" class="container" aria-labelledby="contact-title">
      <div class="section-header reveal">
        <div class="section-tag">Get in Touch</div>
        <h2 class="section-title" id="contact-title">Let's <span>Connect</span></h2>
        <p class="section-subtitle">Have a project in mind? Let's make something unforgettable.</p>
      </div>

      <div class="contact-wrap reveal reveal-delay-1">
        <form class="contact-form" onsubmit="event.preventDefault(); alert('Thanks! Your message was sent (demo).');">
          <div class="row">
            <div class="field">
              <label for="name">Your Name</label>
              <input id="name" name="name" type="text" required autocomplete="name" placeholder="Jane Doe" />
            </div>
            <div class="field">
              <label for="email">Email Address</label>
              <input id="email" name="email" type="email" required autocomplete="email" placeholder="you@example.com" />
            </div>
          </div>
          <div class="row">
            <div class="field">
              <label for="subject">Subject</label>
              <input id="subject" name="subject" type="text" required placeholder="Commission / Collaboration" />
            </div>
            <div class="field">
              <label for="budget">Budget (optional)</label>
              <input id="budget" name="budget" type="text" placeholder="$500 - $1500" />
            </div>
          </div>
          <div class="field">
            <label for="message">Your Message</label>
            <textarea id="message" name="message" required placeholder="Tell me about your vision..." rows="5"></textarea>
          </div>
          <div class="form-actions">
            <button class="btn ghost" type="reset">Clear</button>
            <button class="btn primary" type="submit">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" aria-hidden="true"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
              Send Message
            </button>
          </div>
        </form>
      </div>
    </section>
  </main>

  <footer>
    <div class="footer-quote">
      <span class="handwritten">"She turned her dreams into her plans."</span>
      <span class="quote-attr">— Inspirational</span>
    </div>
    <div class="container foot">
      <div class="brand-mini">
        <svg viewBox="0 0 64 64" aria-hidden="true">
          <defs><linearGradient id="logo-g-mini" x1="0" y1="0" x2="1" y2="1"><stop stop-color="#ec4899"/><stop offset="1" stop-color="#a855f7"/></linearGradient></defs>
          <rect x="6" y="6" width="52" height="52" rx="12" fill="url(#logo-g-mini)"/>
          <path d="M22 20v24M22 32l18-12M22 32l18 12" stroke="#fff" stroke-width="5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        </svg>
        <span>Kurd Studio</span>
      </div>

      <div class="legal">© <span id="year"></span> Kurd Studio · All rights reserved</div>

      <div class="social" aria-label="Social media links">
        <a href="https://instagram.com/" aria-label="Instagram" target="_blank" rel="noopener noreferrer">
          <svg viewBox="0 0 24 24" aria-hidden="true"><linearGradient id="ig" x1="0" y1="0" x2="1" y2="1"><stop offset="0%" stop-color="#F58529"/><stop offset="50%" stop-color="#DD2A7B"/><stop offset="100%" stop-color="#8134AF"/></linearGradient><rect x="3" y="3" width="18" height="18" rx="5" fill="url(#ig)"/><circle cx="12" cy="12" r="4" fill="#fff"/><circle cx="17.5" cy="6.5" r="1.2" fill="#fff"/></svg>
        </a>
        <a href="#" aria-label="Twitter" target="_blank" rel="noopener noreferrer">
          <svg viewBox="0 0 24 24" aria-hidden="true"><path fill="#1DA1F2" d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/></svg>
        </a>
        <a href="mailto:hello@kurd.studio" aria-label="Send email">
          <svg viewBox="0 0 24 24" fill="none" stroke="var(--accent-text)" stroke-width="2" aria-hidden="true"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>
        </a>
      </div>
    </div>
  </footer>

  <!-- Back to Top -->
  <a id="toTop" class="back-to-top" href="#" aria-label="Back to top">
    <svg viewBox="0 0 24 24" fill="none" stroke-width="2.5" aria-hidden="true"><path d="M18 15l-6-6-6 6"/></svg>
  </a>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" role="dialog" aria-label="Image preview" aria-hidden="true">
    <button class="close" aria-label="Close preview" onclick="closeLightbox()">
      <svg viewBox="0 0 24 24" fill="none" stroke-width="2" aria-hidden="true"><path d="M18 6L6 18M6 6l12 12"/></svg>
    </button>
    <img alt="Full size preview"/>
  </div>

  <!-- Hidden texts -->
  <template id="reflection-1">
    <h3>The Day We Painted Quiet</h3>
    <p>Morning arrived on tiptoe, putting its palms on the glass. We waited for the color to warm, for tea to forgive its steam, for the first line to be brave enough to cross the cold paper. You told me, <em>quiet is a bridge</em>. I believed you—not because bridges don't tremble, but because they do.</p>
    <p>I learned to listen with my shoulders, to let the breath be a metronome, to make a promise to the empty space and keep it. The work never shouts. It simply turns toward you when you turn toward it.</p>
  </template>

  <template id="poem-1">
    <h3>Blueprint of a City I Loved</h3>
    <p>We drew the river with a borrowed pencil,<br/>soft lead, a weather of graphite and wrists.</p>
    <p>Rooftops kept their knees together, shy;<br/>stairwells practiced echo like a scale.</p>
    <p>Somewhere a window refused to close—<br/>the night slipped in, letter by letter,<br/>spelling your name on the ceiling fan.</p>
    <p>By morning, the city had a heartbeat;<br/>we folded the map and it beat in our hands.</p>
  </template>

  <template id="poem-2">
    <h3>How Graphite Sleeps</h3>
    <p>The pencil sleeps with one eye open—<br/>a moth pretending to be a branch.</p>
    <p>When the room exhales its lamps,<br/>it rises, dust-lit, to circle the page,<br/>looking for the warmest margin.</p>
    <p>In that glow, it remembers<br/>every line it could not finish,<br/>every face half-turned—<br/>and lands, finally, on the word <em>begin</em>.</p>
  </template>

  <template id="poem-3">
    <h3>If We Carry Water</h3>
    <p>If we carry water in our hands,<br/>the path will teach us balance.</p>
    <p>If we carry water in our mouths,<br/>the words will learn to be careful.</p>
    <p>But if we carry water in our hearts,<br/>even the stones will soften their edges.</p>
  </template>

  <template id="novel-1">
    <h3>The Quiet Meridian — Excerpt I</h3>
    <p>The river didn't divide the city so much as tune it. On our side, mornings began low and amber, shopkeepers clinking shutters like wind chimes. Across the water, trams stitched the fog with silver thread. I met you halfway, where the bridge kept its secrets in the bolts. You said the tide had two names. I believed you.</p>
  </template>

  <template id="novel-2">
    <h3>The Quiet Meridian — Excerpt II</h3>
    <p>That winter, we measured time in kettles. Every hour a warm, whistled vow. We pinned rough drafts above the radiator and watched the paper curl like listening ears. When the power left the street, the dark became a room we could afford. You held the book we hadn't written yet the way sailors hold a compass: not for where it points, but for how it steadies the hand.</p>
  </template>

  <script>
    // Year
    document.getElementById('year').textContent = new Date().getFullYear();

    // Header Scroll Effect & Progress Bar
    const header = document.querySelector('header');
    let lastScroll = 0;

    window.addEventListener('scroll', () => {
      const currentScroll = window.scrollY;
      const docHeight = document.documentElement.scrollHeight - window.innerHeight;
      const scrollProgress = docHeight > 0 ? Math.min(currentScroll / docHeight, 1) : 0;

      // Update scroll progress CSS variable
      header.style.setProperty('--scroll-progress', scrollProgress);

      if (currentScroll > 50) {
        header.classList.add('scrolled');
      } else {
        header.classList.remove('scrolled');
      }

      lastScroll = currentScroll;
    }, { passive: true });

    // Theme Toggle
    const root = document.documentElement;
    const savedTheme = localStorage.getItem('kurd-theme');
    if (savedTheme) root.setAttribute('data-theme', savedTheme);

    function toggleTheme(e) {
      const btn = e.currentTarget;
      document.body.classList.add('theme-transitioning');

      // Add animation class to all theme buttons
      document.querySelectorAll('.theme-btn').forEach(b => {
        b.classList.add('animating');
        setTimeout(() => b.classList.remove('animating'), 600);
      });

      const next = root.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
      root.setAttribute('data-theme', next);
      localStorage.setItem('kurd-theme', next);
      setTimeout(() => document.body.classList.remove('theme-transitioning'), 400);
    }
    document.getElementById('themeToggle').addEventListener('click', toggleTheme);
    document.getElementById('themeToggleMobile')?.addEventListener('click', toggleTheme);

    // Custom Cursor
    const cursor = document.getElementById('cursor');
    const cursorRing = document.getElementById('cursorRing');
    let mouseX = 0, mouseY = 0, ringX = 0, ringY = 0;

    if (window.matchMedia('(hover: hover) and (pointer: fine)').matches) {
      document.addEventListener('mousemove', (e) => {
        mouseX = e.clientX;
        mouseY = e.clientY;
        cursor.style.transform = `translate(${mouseX}px, ${mouseY}px)`;
        cursor.style.opacity = '1';
        cursorRing.style.opacity = '0.4';
      });

      // Hide cursor when mouse leaves window
      document.addEventListener('mouseleave', () => {
        cursor.style.opacity = '0';
        cursorRing.style.opacity = '0';
      });
      document.addEventListener('mouseenter', () => {
        cursor.style.opacity = '1';
        cursorRing.style.opacity = '0.4';
      });

      function animateRing() {
        ringX += (mouseX - ringX) * 0.12;
        ringY += (mouseY - ringY) * 0.12;
        cursorRing.style.transform = `translate(${ringX}px, ${ringY}px) translate(-50%, -50%)`;
        requestAnimationFrame(animateRing);
      }
      animateRing();

      document.querySelectorAll('a, button, .card, .tab, input, textarea, select').forEach(el => {
        el.addEventListener('mouseenter', () => cursorRing.classList.add('hover'));
        el.addEventListener('mouseleave', () => cursorRing.classList.remove('hover'));
      });
    }

    // Floating Particles
    const particlesContainer = document.getElementById('particles');
    function createParticle() {
      const particle = document.createElement('div');
      particle.className = 'particle';
      particle.style.left = Math.random() * 100 + '%';
      particle.style.animationDuration = (Math.random() * 12 + 10) + 's';
      particle.style.animationDelay = Math.random() * 3 + 's';
      particlesContainer.appendChild(particle);
      setTimeout(() => particle.remove(), 25000);
    }
    for (let i = 0; i < 15; i++) setTimeout(createParticle, i * 400);
    setInterval(createParticle, 2500);

    // Ink Drops
    const inkDropsContainer = document.getElementById('inkDrops');
    function createInkDrop() {
      const drop = document.createElement('div');
      drop.className = 'ink-drop';
      const size = Math.random() * 8 + 4;
      drop.style.width = size + 'px';
      drop.style.height = size * 1.4 + 'px';
      drop.style.left = Math.random() * 100 + '%';
      drop.style.animationDuration = (Math.random() * 15 + 20) + 's';
      drop.style.animationDelay = Math.random() * 5 + 's';
      inkDropsContainer.appendChild(drop);
      setTimeout(() => drop.remove(), 35000);
    }
    for (let i = 0; i < 8; i++) setTimeout(createInkDrop, i * 800);
    setInterval(createInkDrop, 4000);

    // Typewriter Effect
    const typewriterEl = document.querySelector('.typewriter-text');
    const phrases = [
      'Dreaming in watercolors & whispers',
      'Painting petals at golden hour...',
      'New poem blooming in my journal',
      'Soft words, gentle brushstrokes',
      'Creating beauty, one day at a time'
    ];
    let phraseIndex = 0;
    let charIndex = 0;
    let isDeleting = false;
    let typeSpeed = 80;

    function typeWriter() {
      const currentPhrase = phrases[phraseIndex];

      if (isDeleting) {
        typewriterEl.textContent = currentPhrase.substring(0, charIndex - 1);
        charIndex--;
        typeSpeed = 40;
      } else {
        typewriterEl.textContent = currentPhrase.substring(0, charIndex + 1);
        charIndex++;
        typeSpeed = 80 + Math.random() * 50;
      }

      if (!isDeleting && charIndex === currentPhrase.length) {
        isDeleting = true;
        typeSpeed = 2000;
      } else if (isDeleting && charIndex === 0) {
        isDeleting = false;
        phraseIndex = (phraseIndex + 1) % phrases.length;
        typeSpeed = 500;
      }

      setTimeout(typeWriter, typeSpeed);
    }
    setTimeout(typeWriter, 1500);

    // Mobile Menu
    const menuBtn = document.getElementById('menuBtn');
    const mobileMenu = document.getElementById('mobileMenu');
    const closeMenuBtn = document.getElementById('closeMenu');

    function openMenu() {
      mobileMenu.classList.add('open');
      mobileMenu.setAttribute('aria-hidden', 'false');
      menuBtn.setAttribute('aria-expanded', 'true');
      menuBtn.classList.add('active');
      document.body.style.overflow = 'hidden';
    }
    function closeMenu() {
      mobileMenu.classList.remove('open');
      mobileMenu.setAttribute('aria-hidden', 'true');
      menuBtn.setAttribute('aria-expanded', 'false');
      menuBtn.classList.remove('active');
      document.body.style.overflow = '';
    }

    menuBtn.addEventListener('click', openMenu);
    closeMenuBtn.addEventListener('click', closeMenu);
    mobileMenu.addEventListener('click', (e) => { if (e.target === mobileMenu) closeMenu(); });
    document.querySelectorAll('.mobile-links a').forEach(a => a.addEventListener('click', closeMenu));

    // Active nav link with sliding pill
    const sections = ['#gallery', '#writing', '#about', '#contact'].map(sel => document.querySelector(sel));
    const navLinksArr = Array.from(document.querySelectorAll('.nav-link'));
    const navLinks = new Map(navLinksArr.map(a => [a.getAttribute('href'), a]));
    const navPill = document.querySelector('.nav-pill');
    let isClickScrolling = false;
    let clickScrollTimeout = null;

    function updateNavPill(activeLink) {
      if (!activeLink || !navPill) return;
      const linkRect = activeLink.getBoundingClientRect();
      const navRect = activeLink.closest('ul').getBoundingClientRect();
      const offsetX = linkRect.left - navRect.left - 6;
      navPill.style.width = linkRect.width + 'px';
      navPill.style.transform = `translateX(${offsetX}px)`;
    }

    function setActiveNavLink(link) {
      navLinksArr.forEach(l => l.classList.remove('active'));
      if (link) {
        link.classList.add('active');
        updateNavPill(link);
      }
    }

    // Handle nav link clicks - immediate feedback
    navLinksArr.forEach(link => {
      link.addEventListener('click', () => {
        isClickScrolling = true;
        setActiveNavLink(link);
        clearTimeout(clickScrollTimeout);
        clickScrollTimeout = setTimeout(() => { isClickScrolling = false; }, 1000);
      });
    });

    // Scroll-based section detection
    function updateActiveSection() {
      if (isClickScrolling) return;
      const scrollY = window.scrollY + window.innerHeight / 3;
      let currentSection = null;

      for (let i = sections.length - 1; i >= 0; i--) {
        const section = sections[i];
        if (section && section.offsetTop <= scrollY) {
          currentSection = section;
          break;
        }
      }

      if (currentSection) {
        const link = navLinks.get('#' + currentSection.id);
        if (link && !link.classList.contains('active')) {
          setActiveNavLink(link);
        }
      }
    }

    window.addEventListener('scroll', updateActiveSection, { passive: true });

    // Initialize pill position
    requestAnimationFrame(() => {
      const activeLink = document.querySelector('.nav-link.active') || navLinksArr[0];
      if (activeLink) {
        activeLink.classList.add('active');
        updateNavPill(activeLink);
      }
    });

    // Handle window resize to recalculate pill position
    let resizeTimeout;
    window.addEventListener('resize', () => {
      clearTimeout(resizeTimeout);
      resizeTimeout = setTimeout(() => {
        const activeLink = document.querySelector('.nav-link.active');
        if (activeLink) updateNavPill(activeLink);
      }, 100);
    });

    // Back to Top
    const toTop = document.getElementById('toTop');
    window.addEventListener('scroll', () => {
      toTop.classList.toggle('show', scrollY > 500);
    });
    toTop.addEventListener('click', (e) => {
      e.preventDefault();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    // Gallery Filter
    const gTabs = document.querySelectorAll('#galleryTabs .tab');
    const gCards = document.querySelectorAll('.card');

    function filterGallery(kind) {
      gCards.forEach(c => {
        const match = kind === 'all' || c.dataset.kind === kind;
        c.style.display = match ? '' : 'none';
      });
    }

    gTabs.forEach(t => t.addEventListener('click', () => {
      gTabs.forEach(x => {
        x.classList.remove('active');
        x.setAttribute('aria-selected', 'false');
      });
      t.classList.add('active');
      t.setAttribute('aria-selected', 'true');
      filterGallery(t.dataset.filter);
    }));

    // Lightbox
    const lb = document.getElementById('lightbox');
    const lbImg = lb.querySelector('img');

    function openLightbox(src, alt) {
      lbImg.src = src;
      lbImg.alt = alt || 'Full size preview';
      lb.classList.add('open');
      lb.setAttribute('aria-hidden', 'false');
      document.body.style.overflow = 'hidden';
    }

    function closeLightbox() {
      lb.classList.remove('open');
      lb.setAttribute('aria-hidden', 'true');
      lbImg.src = '';
      document.body.style.overflow = '';
    }
    window.closeLightbox = closeLightbox;

    document.getElementById('grid').addEventListener('click', (e) => {
      const card = e.target.closest('.card');
      if (!card) return;
      const thumb = card.querySelector('.thumb');
      if (thumb) openLightbox(thumb.src, thumb.alt);
    });

    document.getElementById('grid').addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        const card = e.target.closest('.card');
        if (card) {
          e.preventDefault();
          const thumb = card.querySelector('.thumb');
          if (thumb) openLightbox(thumb.src, thumb.alt);
        }
      }
    });

    lb.addEventListener('click', (e) => { if (e.target === lb) closeLightbox(); });
    window.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeLightbox(); });

    // Writing Tabs
    const wTabs = document.querySelectorAll('#writingTabs .tab');
    const wPanes = document.querySelectorAll('#writingCols .paper');

    wTabs.forEach(t => t.addEventListener('click', () => {
      wTabs.forEach(x => {
        x.classList.remove('active');
        x.setAttribute('aria-selected', 'false');
      });
      t.classList.add('active');
      t.setAttribute('aria-selected', 'true');
      const k = t.dataset.k;
      wPanes.forEach(p => { p.hidden = p.dataset.kind !== k; });
    }));

    // Reading Pop
    const writingSection = document.getElementById('writing');

    function openReading(id) {
      const tpl = document.getElementById(id);
      if (!tpl) return;

      const existing = writingSection.querySelector('.reading-pop');
      if (existing) {
        existing.classList.add('closing');
        existing.addEventListener('animationend', () => existing.remove(), { once: true });
      }

      const box = document.createElement('div');
      box.className = 'reading-pop';
      box.innerHTML = tpl.innerHTML;

      const dismiss = document.createElement('button');
      dismiss.className = 'dismiss-reading';
      dismiss.setAttribute('aria-label', 'Close');
      dismiss.innerHTML = '<svg viewBox="0 0 24 24" fill="none" stroke-width="2"><path d="M18 6L6 18M6 6l12 12"/></svg>';
      box.appendChild(dismiss);

      writingSection.appendChild(box);
      box.scrollIntoView({ behavior: 'smooth', block: 'center' });
    }

    document.addEventListener('click', (e) => {
      const trigger = e.target.closest('[data-read]');
      if (trigger) {
        e.preventDefault();
        openReading(trigger.dataset.read);
        return;
      }

      const closer = e.target.closest('.dismiss-reading');
      if (closer) {
        e.preventDefault();
        const panel = closer.closest('.reading-pop');
        if (panel) {
          panel.classList.add('closing');
          panel.addEventListener('animationend', () => panel.remove(), { once: true });
        }
      }
    });

    // Scroll Reveal
    const reveals = document.querySelectorAll('.reveal, .stagger-children');
    const revealObserver = new IntersectionObserver((entries) => {
      entries.forEach(en => {
        if (en.isIntersecting) {
          en.target.classList.add('visible');
          revealObserver.unobserve(en.target);
        }
      });
    }, { threshold: 0.1 });
    reveals.forEach(el => revealObserver.observe(el));

    // 3D Card Tilt (desktop only)
    if (window.matchMedia('(hover: hover)').matches) {
      document.querySelectorAll('.card').forEach(card => {
        card.addEventListener('mousemove', (e) => {
          const rect = card.getBoundingClientRect();
          const x = (e.clientX - rect.left) / rect.width;
          const y = (e.clientY - rect.top) / rect.height;
          const rotateX = (y - 0.5) * -8;
          const rotateY = (x - 0.5) * 8;
          card.style.transform = `perspective(800px) rotateX(${rotateX}deg) rotateY(${rotateY}deg) translateY(-8px)`;
        });
        card.addEventListener('mouseleave', () => {
          card.style.transform = '';
        });
      });
    }

    // Preloader
    const preloader = document.getElementById('preloader');
    function hidePreloader() {
      preloader.classList.add('hidden');
      document.body.classList.remove('lock-scroll');
    }
    window.addEventListener('load', () => setTimeout(hidePreloader, 500));
    setTimeout(hidePreloader, 3500);
  </script>

  <!-- Ink in Water: Header Fluid Simulation -->
  <script>
  (function() {
    'use strict';

    // Skip on mobile / touch-only / reduced motion
    const isMobile = /Mobi|Android|iPhone|iPad/i.test(navigator.userAgent);
    const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    const hasPointer = window.matchMedia('(hover: hover) and (pointer: fine)').matches;
    if (isMobile || prefersReduced || !hasPointer) return;

    // ── FluidSimulation ──────────────────────────────────────────────
    class FluidSimulation {
      constructor(headerEl, opts = {}) {
        this.header = headerEl;

        // Config
        this.simRes       = opts.simResolution      || 128;
        this.dyeRes       = opts.dyeResolution       || 256;
        this.pressureIter = opts.pressureIterations   || 20;
        this.velDissip    = opts.velocityDissipation  || 0.98;
        this.dyeDissip    = opts.dyeDissipation       || 0.97;
        this.splatRadius  = opts.splatRadius           || 0.004;
        this.ambientMs    = opts.ambientInterval       || 2500;

        // Accent palette (pink / purple / rose)
        this.colors = [
          [0.93, 0.29, 0.60],  // #ec4899
          [0.66, 0.33, 0.97],  // #a855f7
          [0.98, 0.66, 0.83],  // #f9a8d4
          [0.75, 0.52, 0.99],  // #c084fc
        ];
        this.alphaMultiplier = 0.55;

        // Create canvas
        this.canvas = document.createElement('canvas');
        this.canvas.className = 'fluid-canvas';
        this.header.insertBefore(this.canvas, this.header.firstChild);

        // Init WebGL2
        this.gl = this.canvas.getContext('webgl2', {
          alpha: true,
          premultipliedAlpha: false,
          preserveDrawingBuffer: false,
          antialias: false,
          depth: false,
          stencil: false,
        });

        if (!this.gl) {
          this.canvas.remove();
          this.disposed = true;
          return;
        }

        const gl = this.gl;
        gl.getExtension('EXT_color_buffer_float');
        gl.getExtension('OES_texture_float_linear');

        // Compile shaders
        this._buildShaders();

        // Fullscreen triangle (covers clip space)
        const verts = new Float32Array([-1,-1, 3,-1, -1,3]);
        this.vbo = gl.createBuffer();
        gl.bindBuffer(gl.ARRAY_BUFFER, this.vbo);
        gl.bufferData(gl.ARRAY_BUFFER, verts, gl.STATIC_DRAW);

        // Allocate framebuffers
        this._resize();

        // ResizeObserver
        this._ro = new ResizeObserver(() => this._resize());
        this._ro.observe(this.header);

        // Ambient splats
        this._ambientTimer = setInterval(() => this._ambientSplat(), this.ambientMs);

        this.splatQueue = [];
        this.disposed = false;
      }

      // ── Shader source ──────────────────────────────────────────────
      _vert() {
        return `#version 300 es
precision highp float;
layout(location=0) in vec2 aPos;
out vec2 vUv;
void main(){
  vUv = aPos * 0.5 + 0.5;
  gl_Position = vec4(aPos, 0.0, 1.0);
}`;
      }

      _splatFrag() {
        return `#version 300 es
precision highp float;
in vec2 vUv;
uniform sampler2D uTarget;
uniform float uAspectRatio;
uniform vec2 uPoint;
uniform vec3 uColor;
uniform float uRadius;
out vec4 fragColor;
void main(){
  vec2 p = vUv - uPoint;
  p.x *= uAspectRatio;
  vec3 splat = exp(-dot(p,p) / uRadius) * uColor;
  vec3 base = texture(uTarget, vUv).xyz;
  fragColor = vec4(base + splat, 1.0);
}`;
      }

      _advectFrag() {
        return `#version 300 es
precision highp float;
in vec2 vUv;
uniform sampler2D uVelocity;
uniform sampler2D uSource;
uniform vec2 uTexelSize;
uniform float uDt;
uniform float uDissipation;
out vec4 fragColor;
void main(){
  vec2 coord = vUv - uDt * texture(uVelocity, vUv).xy * uTexelSize;
  fragColor = uDissipation * texture(uSource, coord);
}`;
      }

      _divergenceFrag() {
        return `#version 300 es
precision highp float;
in vec2 vUv;
uniform sampler2D uVelocity;
uniform vec2 uTexelSize;
out vec4 fragColor;
void main(){
  float L = texture(uVelocity, vUv - vec2(uTexelSize.x, 0.0)).x;
  float R = texture(uVelocity, vUv + vec2(uTexelSize.x, 0.0)).x;
  float B = texture(uVelocity, vUv - vec2(0.0, uTexelSize.y)).y;
  float T = texture(uVelocity, vUv + vec2(0.0, uTexelSize.y)).y;
  float div = 0.5 * (R - L + T - B);
  fragColor = vec4(div, 0.0, 0.0, 1.0);
}`;
      }

      _pressureFrag() {
        return `#version 300 es
precision highp float;
in vec2 vUv;
uniform sampler2D uPressure;
uniform sampler2D uDivergence;
uniform vec2 uTexelSize;
out vec4 fragColor;
void main(){
  float L = texture(uPressure, vUv - vec2(uTexelSize.x, 0.0)).x;
  float R = texture(uPressure, vUv + vec2(uTexelSize.x, 0.0)).x;
  float B = texture(uPressure, vUv - vec2(0.0, uTexelSize.y)).y;
  float T = texture(uPressure, vUv + vec2(0.0, uTexelSize.y)).y;
  float C = texture(uDivergence, vUv).x;
  float pressure = (L + R + B + T - C) * 0.25;
  fragColor = vec4(pressure, 0.0, 0.0, 1.0);
}`;
      }

      _gradSubFrag() {
        return `#version 300 es
precision highp float;
in vec2 vUv;
uniform sampler2D uPressure;
uniform sampler2D uVelocity;
uniform vec2 uTexelSize;
out vec4 fragColor;
void main(){
  float L = texture(uPressure, vUv - vec2(uTexelSize.x, 0.0)).x;
  float R = texture(uPressure, vUv + vec2(uTexelSize.x, 0.0)).x;
  float B = texture(uPressure, vUv - vec2(0.0, uTexelSize.y)).y;
  float T = texture(uPressure, vUv + vec2(0.0, uTexelSize.y)).y;
  vec2 vel = texture(uVelocity, vUv).xy;
  vel -= vec2(R - L, T - B) * 0.5;
  fragColor = vec4(vel, 0.0, 1.0);
}`;
      }

      _clearFrag() {
        return `#version 300 es
precision highp float;
in vec2 vUv;
uniform sampler2D uTexture;
uniform float uValue;
out vec4 fragColor;
void main(){
  fragColor = uValue * texture(uTexture, vUv);
}`;
      }

      _displayFrag() {
        return `#version 300 es
precision highp float;
in vec2 vUv;
uniform sampler2D uDye;
uniform float uAlphaMultiplier;
out vec4 fragColor;
void main(){
  vec3 c = texture(uDye, vUv).rgb;
  float lum = dot(c, vec3(0.299, 0.587, 0.114));
  fragColor = vec4(c, lum * uAlphaMultiplier);
}`;
      }

      // ── Shader compile helpers ─────────────────────────────────────
      _buildShaders() {
        const gl = this.gl;
        const vs = this._compileShader(gl.VERTEX_SHADER, this._vert());
        this.splatProg    = this._createProgram(vs, this._compileShader(gl.FRAGMENT_SHADER, this._splatFrag()));
        this.advectProg   = this._createProgram(vs, this._compileShader(gl.FRAGMENT_SHADER, this._advectFrag()));
        this.divProg      = this._createProgram(vs, this._compileShader(gl.FRAGMENT_SHADER, this._divergenceFrag()));
        this.pressureProg = this._createProgram(vs, this._compileShader(gl.FRAGMENT_SHADER, this._pressureFrag()));
        this.gradSubProg  = this._createProgram(vs, this._compileShader(gl.FRAGMENT_SHADER, this._gradSubFrag()));
        this.clearProg    = this._createProgram(vs, this._compileShader(gl.FRAGMENT_SHADER, this._clearFrag()));
        this.displayProg  = this._createProgram(vs, this._compileShader(gl.FRAGMENT_SHADER, this._displayFrag()));
      }

      _compileShader(type, src) {
        const gl = this.gl;
        const s = gl.createShader(type);
        gl.shaderSource(s, src);
        gl.compileShader(s);
        return s;
      }

      _createProgram(vs, fs) {
        const gl = this.gl;
        const p = gl.createProgram();
        gl.attachShader(p, vs);
        gl.attachShader(p, fs);
        gl.linkProgram(p);
        // Cache uniform locations
        p._uniforms = {};
        const n = gl.getProgramParameter(p, gl.ACTIVE_UNIFORMS);
        for (let i = 0; i < n; i++) {
          const info = gl.getActiveUniform(p, i);
          p._uniforms[info.name] = gl.getUniformLocation(p, info.name);
        }
        return p;
      }

      _use(prog) {
        this.gl.useProgram(prog);
        this._currentProg = prog;
      }

      _uni(name, ...args) {
        const loc = this._currentProg._uniforms[name];
        if (loc == null) return;
        const gl = this.gl;
        if (args.length === 1 && typeof args[0] === 'number') {
          if (Number.isInteger(args[0])) gl.uniform1i(loc, args[0]);
          else gl.uniform1f(loc, args[0]);
        } else if (args.length === 2) gl.uniform2f(loc, args[0], args[1]);
        else if (args.length === 3) gl.uniform3f(loc, args[0], args[1], args[2]);
      }

      // ── Framebuffer helpers ────────────────────────────────────────
      _createDoubleFBO(w, h, internalFormat, format, type, filter) {
        return {
          read:  this._createFBO(w, h, internalFormat, format, type, filter),
          write: this._createFBO(w, h, internalFormat, format, type, filter),
          swap() { const t = this.read; this.read = this.write; this.write = t; },
          get width() { return this.read.width; },
          get height() { return this.read.height; },
        };
      }

      _createFBO(w, h, internalFormat, format, type, filter) {
        const gl = this.gl;
        const tex = gl.createTexture();
        gl.bindTexture(gl.TEXTURE_2D, tex);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, filter);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, filter);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);
        gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);
        gl.texImage2D(gl.TEXTURE_2D, 0, internalFormat, w, h, 0, format, type, null);
        const fbo = gl.createFramebuffer();
        gl.bindFramebuffer(gl.FRAMEBUFFER, fbo);
        gl.framebufferTexture2D(gl.FRAMEBUFFER, gl.COLOR_ATTACHMENT0, gl.TEXTURE_2D, tex, 0);
        gl.viewport(0, 0, w, h);
        gl.clear(gl.COLOR_BUFFER_BIT);
        return { fbo, tex, width: w, height: h };
      }

      _destroyFBO(fb) {
        if (!fb) return;
        const gl = this.gl;
        if (fb.read) { this._destroyFBO(fb.read); this._destroyFBO(fb.write); return; }
        gl.deleteTexture(fb.tex);
        gl.deleteFramebuffer(fb.fbo);
      }

      // ── Resize ─────────────────────────────────────────────────────
      _resize() {
        const gl = this.gl;
        const dpr = Math.min(window.devicePixelRatio || 1, 2);
        const rect = this.header.getBoundingClientRect();
        const w = Math.round(rect.width * dpr);
        const h = Math.round(rect.height * dpr);
        if (w < 1 || h < 1) return;

        this.canvas.width = w;
        this.canvas.height = h;
        this.aspect = w / h;

        // Destroy old
        this._destroyFBO(this.velocity);
        this._destroyFBO(this.dye);
        this._destroyFBO(this.pressure);
        this._destroyFBO(this.divergence);

        // Sim resolution
        const simW = this.simRes;
        const simH = Math.max(1, Math.round(this.simRes / this.aspect));
        const dyeW = this.dyeRes;
        const dyeH = Math.max(1, Math.round(this.dyeRes / this.aspect));

        const hf = gl.RGBA16F;
        const rgba = gl.RGBA;
        const half = gl.HALF_FLOAT;
        const lin = gl.LINEAR;

        this.velocity   = this._createDoubleFBO(simW, simH, hf, rgba, half, lin);
        this.dye        = this._createDoubleFBO(dyeW, dyeH, hf, rgba, half, lin);
        this.pressure   = this._createDoubleFBO(simW, simH, hf, rgba, half, lin);
        this.divergence = this._createFBO(simW, simH, hf, rgba, half, lin);
      }

      // ── Draw call ──────────────────────────────────────────────────
      _blit(target) {
        const gl = this.gl;
        if (target) {
          gl.bindFramebuffer(gl.FRAMEBUFFER, target.fbo);
          gl.viewport(0, 0, target.width, target.height);
        } else {
          gl.bindFramebuffer(gl.FRAMEBUFFER, null);
          gl.viewport(0, 0, this.canvas.width, this.canvas.height);
        }
        gl.bindBuffer(gl.ARRAY_BUFFER, this.vbo);
        gl.enableVertexAttribArray(0);
        gl.vertexAttribPointer(0, 2, gl.FLOAT, false, 0, 0);
        gl.drawArrays(gl.TRIANGLES, 0, 3);
      }

      _bindTex(unit, tex) {
        const gl = this.gl;
        gl.activeTexture(gl.TEXTURE0 + unit);
        gl.bindTexture(gl.TEXTURE_2D, tex);
      }

      // ── Public API ─────────────────────────────────────────────────
      splat(x, y, dx, dy, color) {
        this.splatQueue.push({ x, y, dx, dy, color });
      }

      splatAtPixel(clientX, clientY, dx, dy, color) {
        const rect = this.header.getBoundingClientRect();
        const x = (clientX - rect.left) / rect.width;
        const y = 1.0 - (clientY - rect.top) / rect.height;
        if (!color) color = this.colors[Math.floor(Math.random() * this.colors.length)];
        this.splat(x, y, dx, dy, color);
      }

      ripple(clientX, clientY, strength = 400) {
        const rect = this.header.getBoundingClientRect();
        const cx = (clientX - rect.left) / rect.width;
        const cy = 1.0 - (clientY - rect.top) / rect.height;
        const rings = 3;
        const spokes = 10;
        for (let r = 0; r < rings; r++) {
          const radius = (r + 1) * 0.04;
          const force = strength * (1 - r * 0.3);
          for (let s = 0; s < spokes; s++) {
            const angle = (s / spokes) * Math.PI * 2;
            const dx = Math.cos(angle) * force;
            const dy = Math.sin(angle) * force;
            const px = cx + Math.cos(angle) * radius;
            const py = cy + Math.sin(angle) * radius;
            const color = this.colors[(r * spokes + s) % this.colors.length];
            this.splat(px, py, dx, dy, [color[0] * 1.5, color[1] * 1.5, color[2] * 1.5]);
          }
        }
      }

      setColors(palette, alpha) {
        if (palette) this.colors = palette;
        if (alpha != null) this.alphaMultiplier = alpha;
      }

      // ── Simulation step ────────────────────────────────────────────
      step(dt) {
        if (this.disposed) return;
        const gl = this.gl;

        gl.disable(gl.BLEND);

        // Apply queued splats
        while (this.splatQueue.length) {
          const s = this.splatQueue.shift();
          this._applySplat(this.velocity, s.x, s.y, s.dx, s.dy);
          this._applySplat(this.dye, s.x, s.y, s.color[0], s.color[1], s.color[2]);
        }

        // Advect velocity
        this._use(this.advectProg);
        this._bindTex(0, this.velocity.read.tex);
        this._bindTex(1, this.velocity.read.tex);
        this._uni('uVelocity', 0);
        this._uni('uSource', 1);
        this._uni('uTexelSize', 1.0 / this.velocity.width, 1.0 / this.velocity.height);
        this._uni('uDt', dt);
        this._uni('uDissipation', this.velDissip);
        this._blit(this.velocity.write);
        this.velocity.swap();

        // Divergence
        this._use(this.divProg);
        this._bindTex(0, this.velocity.read.tex);
        this._uni('uVelocity', 0);
        this._uni('uTexelSize', 1.0 / this.velocity.width, 1.0 / this.velocity.height);
        this._blit(this.divergence);

        // Clear pressure
        this._use(this.clearProg);
        this._bindTex(0, this.pressure.read.tex);
        this._uni('uTexture', 0);
        this._uni('uValue', 0.8);
        this._blit(this.pressure.write);
        this.pressure.swap();

        // Pressure solve (Jacobi)
        this._use(this.pressureProg);
        this._uni('uTexelSize', 1.0 / this.velocity.width, 1.0 / this.velocity.height);
        for (let i = 0; i < this.pressureIter; i++) {
          this._bindTex(0, this.pressure.read.tex);
          this._bindTex(1, this.divergence.tex);
          this._uni('uPressure', 0);
          this._uni('uDivergence', 1);
          this._blit(this.pressure.write);
          this.pressure.swap();
        }

        // Gradient subtract
        this._use(this.gradSubProg);
        this._bindTex(0, this.pressure.read.tex);
        this._bindTex(1, this.velocity.read.tex);
        this._uni('uPressure', 0);
        this._uni('uVelocity', 1);
        this._uni('uTexelSize', 1.0 / this.velocity.width, 1.0 / this.velocity.height);
        this._blit(this.velocity.write);
        this.velocity.swap();

        // Advect dye
        this._use(this.advectProg);
        this._bindTex(0, this.velocity.read.tex);
        this._bindTex(1, this.dye.read.tex);
        this._uni('uVelocity', 0);
        this._uni('uSource', 1);
        this._uni('uTexelSize', 1.0 / this.dye.width, 1.0 / this.dye.height);
        this._uni('uDt', dt);
        this._uni('uDissipation', this.dyeDissip);
        this._blit(this.dye.write);
        this.dye.swap();
      }

      _applySplat(target, x, y, r, g, b) {
        this._use(this.splatProg);
        this._bindTex(0, target.read.tex);
        this._uni('uTarget', 0);
        this._uni('uAspectRatio', this.aspect);
        this._uni('uPoint', x, y);
        if (b !== undefined) {
          this._uni('uColor', r, g, b);
        } else {
          // velocity splat: r=dx, g=dy
          this._uni('uColor', r, g, 0.0);
        }
        this._uni('uRadius', this.splatRadius);
        this._blit(target.write);
        target.swap();
      }

      // ── Render to screen ───────────────────────────────────────────
      render() {
        if (this.disposed) return;
        const gl = this.gl;
        gl.enable(gl.BLEND);
        gl.blendFunc(gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);
        this._use(this.displayProg);
        this._bindTex(0, this.dye.read.tex);
        this._uni('uDye', 0);
        this._uni('uAlphaMultiplier', this.alphaMultiplier);
        this._blit(null);
        gl.disable(gl.BLEND);
      }

      // ── Ambient ────────────────────────────────────────────────────
      _ambientSplat() {
        const x = Math.random();
        const y = Math.random();
        const angle = Math.random() * Math.PI * 2;
        const speed = 80 + Math.random() * 120;
        const color = this.colors[Math.floor(Math.random() * this.colors.length)];
        this.splat(x, y, Math.cos(angle) * speed, Math.sin(angle) * speed, color);
      }

      // ── Cleanup ────────────────────────────────────────────────────
      dispose() {
        this.disposed = true;
        clearInterval(this._ambientTimer);
        this._ro.disconnect();
        this._destroyFBO(this.velocity);
        this._destroyFBO(this.dye);
        this._destroyFBO(this.pressure);
        this._destroyFBO(this.divergence);
        const gl = this.gl;
        gl.deleteBuffer(this.vbo);
        [this.splatProg, this.advectProg, this.divProg, this.pressureProg,
         this.gradSubProg, this.clearProg, this.displayProg].forEach(p => gl.deleteProgram(p));
        this.canvas.remove();
        this.gl.getExtension('WEBGL_lose_context')?.loseContext();
      }
    }

    // ── Boot ───────────────────────────────────────────────────────
    const headerEl = document.querySelector('header');
    if (!headerEl) return;

    // Check WebGL2 support
    const testCanvas = document.createElement('canvas');
    const testGL = testCanvas.getContext('webgl2');
    if (!testGL) return;
    // Check float buffer support
    const extCBF = testGL.getExtension('EXT_color_buffer_float');
    if (!extCBF) return;
    testGL.getExtension('WEBGL_lose_context')?.loseContext();

    const fluidSim = new FluidSimulation(headerEl);
    if (fluidSim.disposed) return;

    // Color palettes per theme
    const darkColors = [
      [0.93, 0.29, 0.60],
      [0.66, 0.33, 0.97],
      [0.98, 0.66, 0.83],
      [0.75, 0.52, 0.99],
    ];
    const lightColors = [
      [0.86, 0.15, 0.46],
      [0.66, 0.33, 0.97],
      [0.85, 0.27, 0.93],
      [0.93, 0.29, 0.60],
    ];

    function updateFluidTheme() {
      const isDark = document.documentElement.getAttribute('data-theme') !== 'light';
      fluidSim.setColors(isDark ? darkColors : lightColors, isDark ? 0.55 : 0.4);
    }
    updateFluidTheme();

    // Watch theme changes
    const themeObserver = new MutationObserver(updateFluidTheme);
    themeObserver.observe(document.documentElement, { attributes: true, attributeFilter: ['data-theme'] });

    // ── Mouse interaction ──────────────────────────────────────────
    let lastMX = 0, lastMY = 0, hasMoved = false;
    headerEl.addEventListener('mousemove', (e) => {
      if (hasMoved) {
        const dx = (e.clientX - lastMX) * 10;
        const dy = -(e.clientY - lastMY) * 10;
        const color = fluidSim.colors[Math.floor(Math.random() * fluidSim.colors.length)];
        fluidSim.splatAtPixel(e.clientX, e.clientY, dx, dy, color);
      }
      lastMX = e.clientX;
      lastMY = e.clientY;
      hasMoved = true;
    });
    headerEl.addEventListener('mouseleave', () => { hasMoved = false; });

    // ── Nav link hover bursts ──────────────────────────────────────
    document.querySelectorAll('header .nav-link').forEach(link => {
      link.addEventListener('mouseenter', (e) => {
        const rect = link.getBoundingClientRect();
        const cx = rect.left + rect.width / 2;
        const cy = rect.top + rect.height / 2;
        const spokes = 6;
        for (let i = 0; i < spokes; i++) {
          const angle = (i / spokes) * Math.PI * 2;
          const color = fluidSim.colors[i % fluidSim.colors.length];
          fluidSim.splatAtPixel(cx, cy, Math.cos(angle) * 200, Math.sin(angle) * 200, color);
        }
      });
    });

    // ── Theme toggle ripple ────────────────────────────────────────
    const themeBtns = document.querySelectorAll('#themeToggle, #themeToggleMobile');
    themeBtns.forEach(btn => {
      btn.addEventListener('click', (e) => {
        const rect = btn.getBoundingClientRect();
        fluidSim.ripple(rect.left + rect.width / 2, rect.top + rect.height / 2, 500);
      }, true); // capture phase — fires before the theme toggle handler
    });

    // ── Animation loop ─────────────────────────────────────────────
    let lastTime = 0;
    let animId;

    function loop(time) {
      animId = requestAnimationFrame(loop);
      const dt = Math.min((time - lastTime) / 1000, 0.016667);
      lastTime = time;
      if (dt <= 0) return;
      fluidSim.step(dt);
      fluidSim.render();
    }
    animId = requestAnimationFrame(loop);

    // Cleanup on page hide (SPA-safe)
    window.addEventListener('pagehide', () => {
      cancelAnimationFrame(animId);
      themeObserver.disconnect();
      fluidSim.dispose();
    });
  })();
  </script>
</body>
</html>
