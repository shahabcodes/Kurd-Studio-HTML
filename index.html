<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sanya — Art & Words · Kurd Studio</title>
  <meta name="description" content="Kurd Studio — Sanya's sketches, paintings, poems, reflections, and a novel in progress." />
  <meta name="theme-color" content="#309d87"/>
  <meta property="og:title" content="Kurd Studio — Sanya"/>
  <meta property="og:description" content="Sketches • Paintings • Poems • Reflections • Novel"/>
  <meta property="og:type" content="website"/>
  <meta property="og:image" content="https://picsum.photos/id/1011/1200/900"/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://picsum.photos" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64'%3E%3Cdefs%3E%3ClinearGradient id='g' x1='0' y1='0' x2='1' y2='1'%3E%3Cstop stop-color='%23309d87'/%3E%3Cstop offset='1' stop-color='%237c3aed'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect x='4' y='4' width='56' height='56' rx='14' fill='url(%23g)'/%3E%3Cpath d='M22 18v28M22 32l20-14M22 32l20 14' stroke='%23e8fff8' stroke-width='6' stroke-linecap='round' stroke-linejoin='round' fill='none'/%3E%3C/svg%3E" />
  <style>

    :root{
      --space: clamp(14px, 1.8vw, 20px);
      --radius-lg: 22px;
      --radius-md: 16px;
      --radius-sm: 12px;
      --shadow-1: 0 10px 30px rgba(0,0,0,.25);
      --shadow-2: 0 20px 50px rgba(0,0,0,.35);
      --accent: #2fd3b1;
      --accent-2:#7c3aed;
      --accent-3:#06b6d4;
      --container: 1180px;

      --pill-bg: rgba(48,157,135,.15);
      --pill-text:#bcfff1;
      --pill-border: rgba(48,157,135,.35);

      --icon-dim: rgba(255,255,255,.7);
      --icon-strong: #fff;
      --menu-overlay: rgba(6,12,22,.72);
    }
    [data-theme="dark"]{
      --bg:#0b1020; --ink:#e8ebf2; --muted:#a8b1c4; --card:#0e162a; --stroke:#20293a; --ink-strong:#ffffff;
      --pill-bg:#0d2a25; --pill-text:#c7fff2; --pill-border:rgba(48,157,135,.5);
      --icon-dim:#cfe9e3; --icon-strong:#ffffff;
      --link-plain:#bff6ea;
      --menu-overlay: rgba(6,12,22,.72);
    }
    [data-theme="light"]{
      --bg:#f7f9fe; --ink:#0b1220; --muted:#3b475a; --card:#ffffff; --stroke:#ced8ea; --ink-strong:#091018;
      --pill-bg:#e8fdf8; --pill-text:#06312b; --pill-border:#7ddfd0;
      --icon-dim:#415063; --icon-strong:#0b1220;
      --link-plain:#0c7d6e;
      --menu-overlay: rgba(245,248,255,.9);
    }
    @media (prefers-color-scheme: light){ :root { color-scheme: light dark; } }

    *{box-sizing:border-box}
    html,body{
      margin:0;
      overflow-x:hidden;
      background:
        radial-gradient(900px 600px at 10% -10%, color-mix(in oklab, var(--accent) 14%, transparent), transparent 60%),
        radial-gradient(900px 600px at 110% 0%, color-mix(in oklab, var(--accent-2) 12%, transparent), transparent 60%),
        linear-gradient(180deg, var(--bg), var(--bg));
      color:var(--ink);
      font-family:Inter,system-ui,Segoe UI,Roboto,Arial,sans-serif; line-height:1.6;
      max-width:100%;
    }
    img{max-width:100%; height:auto; display:block}
    .container{max-width:var(--container);margin:0 auto;padding:0 var(--space); width:100%}

    .preloader{
      position:fixed; inset:0; z-index:1000; display:grid; place-items:center;
      background:
        radial-gradient(1200px 800px at 15% -10%, color-mix(in oklab, var(--accent) 12%, transparent), transparent 60%),
        radial-gradient(1200px 800px at 110% 0%, color-mix(in oklab, var(--accent-2) 10%, transparent), transparent 60%),
        linear-gradient(180deg, var(--bg), var(--bg));
      transition:opacity .5s ease, visibility .5s ease;
    }
    .preloader.hidden{opacity:0; visibility:hidden}
    .lock-scroll{overflow:hidden}

    .loader{
      position:relative; width:140px; height:140px; display:grid; place-items:center;
      filter:drop-shadow(0 10px 40px rgba(0,0,0,.35));
    }
    .loader .ring{
      position:absolute; inset:0; border-radius:50%;
      background:conic-gradient(from 0deg, var(--accent), var(--accent-2), var(--accent-3), var(--accent));
      mask: radial-gradient(farthest-side, transparent calc(50% - 10px), #000 calc(50% - 9px));
      animation:spin 1.2s linear infinite;
    }
    .loader .glow{
      position:absolute; inset:10px; border-radius:50%;
      background:radial-gradient(closest-side, color-mix(in oklab, var(--accent) 35%, transparent), transparent 60%);
      filter:blur(10px); opacity:.45; animation:pulse 1.6s ease-in-out infinite;
    }
    .k-logo{
      width:84px; height:84px; border-radius:20px; overflow:hidden;
      background:linear-gradient(135deg, color-mix(in oklab, var(--card) 92%, transparent), color-mix(in oklab, var(--card) 98%, transparent));
      border:1px solid var(--stroke);
      display:grid; place-items:center;
    }
    .k-logo svg{width:64px; height:64px}
    .k-logo path{stroke:#e8fff8}
    .brandname{
      margin-top:16px; text-align:center; font-family:"Playfair Display",serif; font-size:18px; letter-spacing:.4px;
      background:linear-gradient(90deg,var(--accent),var(--accent-2),var(--accent-3)); -webkit-background-clip:text; background-clip:text; color:transparent;
      animation:shine 2.2s linear infinite;
    }
    @keyframes spin{to{transform:rotate(360deg)}}
    @keyframes pulse{50%{opacity:.75} 100%{opacity:.45}}
    @keyframes shine{0%{filter:hue-rotate(0)}100%{filter:hue-rotate(360deg)}}
    @media (prefers-reduced-motion: reduce){
      .loader .ring,.glow{animation:none}
      .brandname{animation:none}
    }

    header{position:sticky; top:0; z-index:70; backdrop-filter:blur(10px);
      background:linear-gradient(180deg, color-mix(in oklab, var(--card) 86%, transparent), transparent);
      border-bottom:1px solid var(--stroke)}
    .nav{display:flex;align-items:center;gap:16px;height:64px}
    .brand{display:flex;align-items:center;gap:10px;font-family:"Playfair Display",serif;font-weight:700;letter-spacing:.5px}
    .brand .logo{width:32px;height:32px;filter:drop-shadow(0 2px 6px rgba(48,157,135,.45))}
    .brand .wordmark{display:flex;gap:6px;align-items:baseline}
    .brand .wordmark strong{color:var(--ink-strong)}
    .brand .wordmark em{font-style:normal;background:linear-gradient(90deg,var(--accent),var(--accent-2),var(--accent-3));-webkit-background-clip:text;background-clip:text;color:transparent}

    .nav ul{margin-left:auto;display:flex;gap:4px;list-style:none;padding:0}
    .nav a{display:inline-flex;align-items:center;gap:8px;color:var(--ink);text-decoration:none;padding:10px 14px;border-radius:999px;border:1px solid transparent;position:relative; max-width:100%}
    .nav a:hover{border-color:var(--accent)}
    .nav a:focus-visible{outline:3px solid color-mix(in oklab, var(--accent) 70%, transparent); outline-offset:2px}
    .nav a.active::after{content:'';position:absolute;left:14px;right:14px;bottom:7px;height:2px;border-radius:2px;background:linear-gradient(90deg,var(--accent),var(--accent-2))}
    .nav a svg{width:16px;height:16px;stroke:currentColor;fill:none;stroke-width:2}

    .menu-btn{display:none;background:transparent;border:1px solid var(--stroke);border-radius:10px;padding:8px;color:var(--icon-strong)}
    .menu-btn svg{display:block;stroke:currentColor}
    .theme-btn{display:inline-flex;align-items:center;justify-content:center;gap:8px;padding:10px 12px;border-radius:12px;border:1px solid var(--stroke);background:color-mix(in oklab, var(--card) 90%, transparent);color:var(--icon-strong);min-width:44px}
    .theme-btn:focus-visible{outline:3px solid color-mix(in oklab, var(--accent) 70%, transparent); outline-offset:2px}
    .theme-btn svg{width:18px;height:18px}
    .theme-btn .sun{display:none}
    [data-theme="light"] .theme-btn .moon{display:none}
    [data-theme="light"] .theme-btn .sun{display:inline}

    @media (max-width:900px){
      .nav{height:56px}
      .nav ul{display:none}
      .menu-btn{display:inline-flex;margin-left:auto}
    }

    .mobile-menu{
      position:fixed; inset:0; display:none; z-index:90;
      background:var(--menu-overlay); backdrop-filter: blur(14px) saturate(1.1);
    }
    .mobile-menu.open{display:block; animation:menuFade .2s ease}
    @keyframes menuFade{from{opacity:0}to{opacity:1}}
    .mobile-menu .inner{max-width:var(--container); margin:0 auto; padding:clamp(18px,3vw,26px) var(--space)}
    .mobile-top{display:flex; align-items:center; justify-content:space-between}
    .mobile-title{display:flex; align-items:center; gap:10px; font-weight:700; font-family:"Playfair Display",serif}
    .close-btn{display:inline-flex; align-items:center; justify-content:center; width:44px; height:44px; border-radius:12px; border:1px solid var(--stroke); background:color-mix(in oklab, var(--card) 92%, transparent); color:var(--icon-strong)}
    .close-btn svg{width:20px; height:20px; stroke:currentColor; fill:none; stroke-width:2}

    .mobile-links{display:grid; gap:10px; margin-top:18px}
    .mobile-links a{
      display:flex; align-items:center; gap:12px; padding:16px 14px; border-radius:14px;
      border:1px solid var(--stroke); background:color-mix(in oklab, var(--card) 94%, transparent);
      color:var(--ink); text-decoration:none; font-size:18px; font-weight:700;
    }
    .mobile-links a svg{width:22px; height:22px; stroke:currentColor; fill:none; stroke-width:2}
    .mobile-links a:active{transform:scale(.99)}
    .mobile-footer{display:flex; align-items:center; justify-content:space-between; margin-top:18px; gap:10px}
    .mobile-footer .theme-btn{flex:0 0 auto}
    .mobile-footer .brand-mini{opacity:.9}

    .hero{display:grid;grid-template-columns:1.1fr .9fr;gap:28px;align-items:center;padding:clamp(42px,8vw,84px) 0 40px}
    @media (max-width:960px){.hero{grid-template-columns:1fr}}
    .headline{font-family:"Playfair Display",serif;font-size:clamp(34px,7.5vw,68px); line-height:1.06;letter-spacing:.2px}
    .headline em{font-style:normal; background:linear-gradient(90deg,var(--accent),var(--accent-2),var(--accent-3)); -webkit-background-clip:text; background-clip:text; color:transparent; animation:hue 10s linear infinite}
    @keyframes hue{0%{filter:hue-rotate(0)}100%{filter:hue-rotate(360deg)}}
    .sub{color:var(--muted); max-width:60ch; margin:14px 0 26px}

    .hero-actions{display:flex;gap:12px;flex-wrap:wrap}
    .btn{display:inline-flex;align-items:center;gap:8px; padding:12px 18px;border-radius:14px;border:1px solid var(--stroke); text-decoration:none; color:var(--ink);min-height:44px; font-weight:600}
    .btn:hover{border-color:var(--accent)}
    .btn.primary{background:linear-gradient(135deg,var(--accent),#3fd8bf); color:#062521; border:0; font-weight:800; box-shadow:0 8px 20px rgba(47,211,177,.28)}
    .btn.ghost{background:color-mix(in oklab, var(--card) 85%, transparent); border-color:color-mix(in oklab, var(--stroke) 80%, transparent)}
    .btn:focus-visible{outline:3px solid color-mix(in oklab, var(--accent) 70%, transparent); outline-offset:2px}

    .frame{background:linear-gradient(180deg, color-mix(in oklab, var(--card) 90%, transparent), color-mix(in oklab, var(--card) 96%, transparent)); border:1px solid var(--stroke); border-radius:var(--radius-lg); padding:10px; box-shadow:var(--shadow-2), inset 0 0 0 1px rgba(255,255,255,.03)}
    .poster{aspect-ratio:4/5; border-radius:var(--radius-md); overflow:hidden; position:relative; background:#0e1b2b}
    .poster img{width:100%;height:100%;object-fit:cover; display:block; filter:contrast(1.05) saturate(1.15)}
    .poster .tag{position:absolute; left:12px; top:12px; padding:6px 10px; font-size:12px; letter-spacing:.4px; border-radius:999px; background:rgba(4,30,27,.7); border:1px solid rgba(72,201,180,.35); color:#bdf2e8}

    .hero .copy{position:relative; padding-inline:clamp(16px,3vw,40px); max-width:760px; margin-left:auto; overflow:hidden;}
    .hero .headline{margin:0 0 12px; position:relative}
    .hero .headline::after{content:""; display:block; width:min(160px,30%); height:6px; border-radius:999px; margin-top:10px;
      background:linear-gradient(90deg,var(--accent),var(--accent-2)); box-shadow:0 6px 20px rgba(124,58,237,.25)}
    .hero .sub{margin:12px 0 24px}
    .hero .btn{padding:14px 22px; border-radius:16px; position:relative; overflow:hidden}
    .hero .btn.primary{box-shadow:0 10px 28px rgba(47,211,177,.28)}
    .hero .btn.primary::after{content:""; position:absolute; inset:0; background:linear-gradient(120deg, transparent 20%, rgba(255,255,255,.22) 40%, transparent 60%);
      transform:translateX(-120%); transition:transform .6s ease}
    .hero .btn.primary:hover::after{transform:translateX(120%)}
    .hero .btn.ghost{border-color:color-mix(in oklab, var(--stroke) 80%, transparent); background:linear-gradient(180deg, transparent, rgba(255,255,255,.03))}
    @media (max-width:960px){
      .hero{grid-template-columns:1fr}
      .hero .copy{margin-inline:auto; padding-inline:clamp(12px,5vw,28px); text-align:center}
      .hero .headline::after{margin-inline:auto}
      .hero-actions{justify-content:center}
    }

    section{padding:42px 0; scroll-margin-top:76px}
    .section-title{display:flex;align-items:end;gap:14px;margin:8px 0 18px; flex-wrap:wrap}
    .section-title h2{font-family:"Playfair Display",serif;font-size:clamp(26px,4.2vw,40px); margin:0}
    .section-title p{color:var(--muted); margin:0}
    .divider{height:1px;background:linear-gradient(90deg,transparent,rgba(255,255,255,.12),transparent);margin:12px 0 24px}

    .tabs{display:flex;gap:10px;flex-wrap:wrap;margin:6px 0 14px}
    .tab{padding:10px 14px;border:1px solid var(--stroke);border-radius:12px;cursor:pointer;background:color-mix(in oklab, var(--card) 90%, transparent)}
    .tab.active{border-color:var(--accent); box-shadow:0 0 0 3px rgba(48,157,135,.22)}
    .tab:focus-visible{outline:3px solid color-mix(in oklab, var(--accent) 70%, transparent); outline-offset:2px}

    .filters{padding:0; margin:6px 0 14px; border:none; background:transparent}
    .grid{display:grid; grid-template-columns:repeat(12,1fr); gap:16px}
    .card{grid-column:span 4; position:relative; border-radius:var(--radius-md); overflow:hidden; border:1px solid var(--stroke);
      background:linear-gradient(180deg, color-mix(in oklab, var(--card) 92%, transparent), color-mix(in oklab, var(--card) 98%, transparent));
      box-shadow:var(--shadow-1); transform:translateZ(0); perspective:800px;}
    @media (max-width:1000px){.card{grid-column:span 6}}
    @media (max-width:640px){.card{grid-column:span 12}}
    .card .thumb{width:100%;aspect-ratio:4/3;object-fit:cover}
    .card::after{content:""; position:absolute; inset:auto 10px 10px 10px; height:68px; border-radius:12px; background:linear-gradient(180deg, rgba(8,15,26,.0), rgba(8,15,26,.65)); border:1px solid color-mix(in oklab, var(--stroke) 70%, transparent)}
    .card .meta{position:absolute; inset:auto 16px 18px 16px; display:flex; justify-content:space-between; align-items:center; gap:10px}
    .pill{font-size:12px; padding:6px 10px; border-radius:999px; background:var(--pill-bg); color:var(--pill-text); border:1px solid var(--pill-border)}
    .card:hover .thumb{transform:scale(1.06) rotateX(2deg); filter:saturate(1.1)}
    .card:hover{box-shadow:0 16px 42px rgba(0,0,0,.38), 0 0 0 1px color-mix(in oklab, var(--accent) 30%, transparent)}

    .lightbox{
      position:fixed; inset:0; z-index:100;
      display:grid; place-items:center;
      backdrop-filter:blur(10px);
      background:rgba(2,6,14,.72);
      padding:16px;
      overflow:auto;
    }
    @supports (padding: max(0px)) {
      .lightbox{
        padding-top:max(16px, env(safe-area-inset-top));
        padding-right:max(16px, env(safe-area-inset-right));
        padding-bottom:max(16px, env(safe-area-inset-bottom));
        padding-left:max(16px, env(safe-area-inset-left));
      }
    }
    .lightbox:not(.open){display:none}
    .lightbox img{
      display:block;
      width:auto; height:auto;
      max-width: min(1200px, calc(100vw - 32px - env(safe-area-inset-left,0px) - env(safe-area-inset-right,0px)));
      max-height: calc(100dvh - 32px - env(safe-area-inset-top,0px) - env(safe-area-inset-bottom,0px));
      object-fit:contain; border:1px solid var(--stroke); border-radius:16px; box-shadow:var(--shadow-2); background:#000;
    }
    .lightbox .close{
      position:fixed; top:16px; right:16px; z-index:101;
      width:44px; height:44px; padding:0; display:grid; place-items:center;
      border-radius:999px; border:1px solid var(--stroke);
      background: color-mix(in oklab, var(--card) 92%, transparent);
      color: var(--ink-strong); box-shadow: 0 8px 20px rgba(0,0,0,.25);
    }
    @supports (top: max(0px)) {
      .lightbox .close{ top:max(16px, env(safe-area-inset-top)); right:max(16px, env(safe-area-inset-right)); }
    }
    .lightbox .close svg{ width:20px; height:20px; stroke: currentColor; fill: none; stroke-width: 2.5; stroke-linecap: round; stroke-linejoin: round; }
    @media (max-width:640px){ .lightbox .close{ display:none; } }

    .columns{display:grid; grid-template-columns:1.1fr .9fr; gap:20px}
    @media (max-width:900px){.columns{grid-template-columns:1fr}}
    .paper{background:linear-gradient(180deg, color-mix(in oklab, var(--card) 95%, transparent), color-mix(in oklab, var(--card) 98%, transparent)); border:1px solid var(--stroke); border-radius:18px; padding:18px}
    .paper h3{margin:0 0 8px; font-family:"Playfair Display",serif}
    .paper .kind{font-size:12px; color:#bcd0ff; letter-spacing:.4px}
    .paper p{color:color-mix(in oklab, var(--ink) 92%, #fff 8%); margin:10px 0}
    .more{display:inline-flex; align-items:center; gap:8px; color:var(--link-plain); text-decoration:none; padding:8px 10px; border:1px solid rgba(48,157,135,.35); border-radius:12px; font-weight:600}
    .more:hover{background:rgba(48,157,135,.08)}
    .more:focus-visible{outline:3px solid color-mix(in oklab, var(--accent) 60%, transparent); outline-offset:2px}

    .reading-pop{
      position:relative;
      background:linear-gradient(180deg, color-mix(in oklab, var(--card) 96%, transparent), color-mix(in oklab, var(--card) 99%, transparent));
      border:1px solid var(--stroke);
      border-radius:18px;
      padding:20px 18px 18px 18px;
      max-width:760px;
      margin:20px auto 0;
      box-shadow:var(--shadow-1);
      animation:popIn .35s ease forwards;
    }
    .reading-pop.closing{ animation:popOut .28s ease forwards; }
    .reading-pop h3{ font-family:"Playfair Display",serif; margin-top:4px }
    .dismiss-reading{
      position:absolute; top:10px; right:10px;
      display:inline-grid; place-items:center;
      width:40px; height:40px; border-radius:12px;
      border:1px solid var(--stroke);
      background:color-mix(in oklab, var(--card) 94%, transparent);
      color:var(--ink-strong);
      cursor:pointer;
    }
    .dismiss-reading:hover{ border-color:var(--accent); background:color-mix(in oklab, var(--accent) 10%, var(--card)); }
    .dismiss-reading:focus-visible{ outline:3px solid color-mix(in oklab, var(--accent) 70%, transparent); outline-offset:2px }
    .dismiss-reading svg{ width:18px; height:18px; stroke:currentColor; fill:none; stroke-width:2.5; stroke-linecap:round; stroke-linejoin:round }

    @keyframes popIn{
      from{ opacity:0; transform:translateY(12px) scale(.98) }
      to{ opacity:1; transform:none }
    }
    @keyframes popOut{
      from{ opacity:1; transform:none }
      to{ opacity:0; transform:translateY(8px) scale(.98) }
    }

    .about{display:grid; grid-template-columns:.9fr 1.1fr; gap:20px; align-items:center}
    @media (max-width:900px){.about{grid-template-columns:1fr}}
    .avatar{border-radius:18px; overflow:hidden; border:1px solid var(--stroke); background:#0e1b2b}
    .avatar img{display:block; width:100%; height:100%; object-fit:cover}

    .contact-wrap{padding:20px}
    .contact-form{display:flex; flex-direction:column; gap:14px}
    .contact-form .row{display:grid; gap:12px; grid-template-columns:1fr 1fr}
    @media (max-width:720px){.contact-form .row{grid-template-columns:1fr}}
    .contact-form .field{display:flex; flex-direction:column; gap:6px}
    .contact-form label{font-size:12px; letter-spacing:.3px; color:var(--muted)}
    .contact-form input, .contact-form textarea{padding:12px 14px; border-radius:12px; border:1px solid var(--stroke); background:var(--card); color:var(--ink); width:100%}
    .contact-form input:focus, .contact-form textarea:focus{outline:3px solid color-mix(in oklab, var(--accent) 35%, transparent); outline-offset:2px}
    .contact-form .actions{display:flex; gap:10px; justify-content:flex-end; padding-top:6px}

    footer{
      margin-top:40px;
      background:linear-gradient(180deg, color-mix(in oklab, var(--card) 88%, transparent), color-mix(in oklab, var(--card) 96%, transparent));
      border-top:1px solid var(--stroke);
      position:relative;
      overflow:hidden;
    }
    footer .container{padding-left:clamp(22px,5vw,56px); padding-right:clamp(22px,5vw,56px)}
    footer::before{content:""; position:absolute; inset:0 0 auto 0; height:2px; background:linear-gradient(90deg, var(--accent), var(--accent-2)); opacity:.6}
    .foot{display:grid; grid-template-columns:minmax(0,auto) 1fr minmax(0,auto); align-items:center; column-gap:clamp(14px,3vw,28px); row-gap:10px; padding:28px 0 32px}
    @media (max-width:900px){ .foot{grid-template-columns:1fr; text-align:center; row-gap:14px; padding:26px 0 30px} }
    .foot .brand-mini{display:flex; align-items:center; gap:12px; font-weight:700; font-family:"Playfair Display",serif}
    .foot .brand-mini svg{width:28px; height:28px}
    .foot .legal{color:var(--muted); justify-self:center; text-align:center; font-size:14px; letter-spacing:.2px}
    .foot .social{display:flex; gap:12px; justify-content:flex-end; align-items:center; flex-wrap:wrap}
    @media (max-width:900px){ .foot .social{justify-content:center} }
    .foot .social a{display:inline-flex; align-items:center; justify-content:center; width:44px; height:44px; border:1px solid var(--stroke); border-radius:12px; background:color-mix(in oklab, var(--card) 92%, transparent); transition:transform .2s ease, box-shadow .2s ease, border-color .2s ease, background .2s ease}
    .foot .social a:hover{ border-color:var(--accent); box-shadow:0 8px 20px rgba(47,211,177,.18); background:color-mix(in oklab, var(--accent) 10%, var(--card)) }
    .foot .social a:focus-visible{ outline:3px solid color-mix(in oklab, var(--accent) 70%, transparent); outline-offset:2px }

    .back-to-top{position:fixed; right:18px; bottom:22px; display:none}
    .back-to-top.show{display:inline-flex}
    .icon{width:18px; height:18px; display:inline-block}

    .reveal{opacity:0; transform:translateY(16px); transition:opacity .6s ease, transform .6s ease}
    .reveal.visible{opacity:1; transform:none}
  </style>
</head>
<body class="lock-scroll">
  <!-- PRELOADER -->
  <div class="preloader" id="preloader" aria-live="polite" aria-label="Loading Kurd Studio">
    <div>
      <div class="loader" role="status" aria-label="Loading">
        <div class="ring" aria-hidden="true"></div>
        <div class="glow" aria-hidden="true"></div>
        <div class="k-logo" aria-hidden="true">
          <svg viewBox="0 0 64 64">
            <defs>
              <linearGradient id="logo-g-pre" x1="0" y1="0" x2="1" y2="1">
                <stop stop-color="#309d87"/>
                <stop offset="1" stop-color="#7c3aed"/>
              </linearGradient>
            </defs>
            <rect x="4" y="4" width="56" height="56" rx="14" fill="url(#logo-g-pre)"/>
            <path d="M22 18v28M22 32l20-14M22 32l20 14" stroke="#e8fff8" stroke-width="6" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
          </svg>
        </div>
      </div>
      <div class="brandname">Kurd Studio</div>
    </div>
  </div>

  <header>
    <div class="container nav" role="navigation">
      <div class="brand" aria-label="Kurd Studio">
        <svg class="logo" viewBox="0 0 64 64" aria-hidden="true">
          <defs>
            <linearGradient id="logo-g" x1="0" y1="0" x2="1" y2="1">
              <stop stop-color="#309d87"/>
              <stop offset="1" stop-color="#7c3aed"/>
            </linearGradient>
          </defs>
          <rect x="4" y="4" width="56" height="56" rx="14" fill="url(#logo-g)"/>
          <path d="M22 18v28M22 32l20-14M22 32l20 14" stroke="#e8fff8" stroke-width="6" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        </svg>
        <span class="wordmark"><strong>Kurd</strong> <em>Studio</em></span>
      </div>

      <ul id="navList" class="desktop-nav">
        <li><a href="#gallery" title="Gallery">
          <svg viewBox="0 0 24 24"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/></svg>
          Gallery</a></li>
        <li><a href="#writing" title="Writing">
          <svg viewBox="0 0 24 24"><path d="M3 6h18M3 12h12M3 18h8"/></svg>Writing</a></li>
        <li><a href="#about" title="About">
          <svg viewBox="0 0 24 24"><circle cx="12" cy="8" r="4"/><path d="M4 21c2-4 6-6 8-6s6 2 8 6"/></svg>About</a></li>
        <li><a href="#contact" class="cta" title="Contact">
          <svg viewBox="0 0 24 24"><path d="M4 4h16v12H5l-1 4z"/></svg>Contact</a></li>
      </ul>

      <button id="themeToggle" class="theme-btn" aria-label="Toggle theme" title="Toggle theme">
        <svg class="moon" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
        <svg class="sun" viewBox="0 0 24 24" aria-hidden="true"><path fill="currentColor" d="M6.76 4.84l-1.8-1.79L3.17 4.84l1.79 1.79L6.76 4.84zM1 13h3v-2H1v2zm10 10h2v-3h-2v3zM4.84 19.16l1.79 1.79 1.79-1.79-1.79-1.79-1.79 1.79zM20 13h3v-2h-3v2zm-1.76-8.16l1.79-1.79-1.79-1.79-1.79 1.79 1.79 1.79zM12 7a5 5 0 100 10 5 5 0 000-10zm7.16 12.16l-1.79-1.79-1.79 1.79 1.79 1.79 1.79-1.79zM13 1h-2v3h2V1z"/></svg>
      </button>

      <button class="menu-btn" id="menuBtn" aria-label="Open menu" title="Menu">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 6h16M4 12h16M4 18h16"/></svg>
      </button>
    </div>
  </header>

  <!-- Fullscreen mobile menu -->
  <div class="mobile-menu" id="mobileMenu" aria-hidden="true">
    <div class="inner">
      <div class="mobile-top">
        <div class="mobile-title">
          <svg width="26" height="26" viewBox="0 0 64 64" aria-hidden="true">
            <defs><linearGradient id="m-g" x1="0" y1="0" x2="1" y2="1"><stop stop-color="#309d87"/><stop offset="1" stop-color="#7c3aed"/></linearGradient></defs>
            <rect x="6" y="6" width="52" height="52" rx="12" fill="url(#m-g)"/>
            <path d="M22 20v24M22 32l18-12M22 32l18 12" stroke="#e8fff8" stroke-width="5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
          </svg>
          Kurd Studio
        </div>
        <div style="display:flex; gap:8px; align-items:center">
          <button id="themeToggleMobile" class="theme-btn" aria-label="Toggle theme">
            <svg class="moon" viewBox="0 0 24 24"><path fill="currentColor" d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
            <svg class="sun" viewBox="0 0 24 24"><path fill="currentColor" d="M6.76 4.84l-1.8-1.79L3.17 4.84l1.79 1.79L6.76 4.84zM1 13h3v-2H1v2zM13 1h-2v3h2V1z"/></svg>
          </button>
          <button class="close-btn" id="closeMenu" aria-label="Close menu">
            <svg viewBox="0 0 24 24"><path d="M6 6l12 12M18 6L6 18"/></svg>
          </button>
        </div>
      </div>

      <nav class="mobile-links" aria-label="Mobile">
        <a href="#gallery">
          <svg viewBox="0 0 24 24"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/></svg>
          Gallery
        </a>
        <a href="#writing">
          <svg viewBox="0 0 24 24"><path d="M3 6h18M3 12h12M3 18h8"/></svg>
          Writing
        </a>
        <a href="#about">
          <svg viewBox="0 0 24 24"><circle cx="12" cy="8" r="4"/><path d="M4 21c2-4 6-6 8-6s6 2 8 6"/></svg>
          About
        </a>
        <a href="#contact">
          <svg viewBox="0 0 24 24"><path d="M4 4h16v12H5l-1 4z"/></svg>
          Contact
        </a>
      </nav>

      <div class="mobile-footer">
        <div class="brand-mini" style="display:flex; align-items:center; gap:10px;">
          <svg width="24" height="24" viewBox="0 0 64 64" aria-hidden="true">
            <defs><linearGradient id="m-g2" x1="0" y1="0" x2="1" y2="1"><stop stop-color="#309d87"/><stop offset="1" stop-color="#7c3aed"/></linearGradient></defs>
            <rect x="6" y="6" width="52" height="52" rx="12" fill="url(#m-g2)"/>
            <path d="M22 20v24M22 32l18-12M22 32l18 12" stroke="#e8fff8" stroke-width="5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
          </svg>
          © <span id="yearMobile"></span> Kurd Studio
        </div>
      </div>
    </div>
  </div>

  <main>
    <section class="hero container reveal">
      <div class="copy">
        <h1 class="headline">Art that feels. Words that <em>linger</em>.</h1>
        <p class="sub">Sketches and paintings that breathe, poems and reflections that listen. Explore a living portfolio of visuals and verse—curated by Sanya.</p>
        <div class="hero-actions">
          <a href="#gallery" class="btn primary">Explore Gallery</a>
          <a href="#writing" class="btn ghost">Read the Words</a>
        </div>
      </div>
      <div class="frame">
        <figure class="poster">
          <img class="safe-img" loading="eager" src="https://picsum.photos/id/1011/1200/1500" data-fallback="https://picsum.photos/seed/hero-fallback/1200/1500" referrerpolicy="no-referrer" alt="Featured painting"/>
          <figcaption class="tag">FEATURED • Oil on canvas</figcaption>
        </figure>
      </div>
    </section>

    <div class="divider container" aria-hidden="true"></div>

    <section id="gallery" class="container reveal" aria-label="Art Gallery">
      <div class="section-title">
        <h2>Gallery</h2>
        <p>Sketches • Paintings • Mixed Media</p>
      </div>

      <div class="filters">
        <div class="tabs" id="galleryTabs" role="tablist" aria-label="Filter gallery">
          <div class="tab active" role="tab" aria-selected="true" data-filter="all">All</div>
          <div class="tab" role="tab" aria-selected="false" data-filter="sketch">Sketches</div>
          <div class="tab" role="tab" aria-selected="false" data-filter="painting">Paintings</div>
          <div class="tab" role="tab" aria-selected="false" data-filter="mixed">Mixed Media</div>
        </div>
      </div>

      <div class="grid" id="grid">
        <article class="card" data-kind="painting">
          <img class="thumb safe-img" loading="lazy" src="https://picsum.photos/id/1025/1200/900" data-fallback="https://picsum.photos/seed/paint1/1200/900" referrerpolicy="no-referrer" alt="Painting — Dawn at the Quay"/>
          <div class="meta"><span class="pill">Painting</span><div class="title">Dawn at the Quay</div></div>
        </article>
        <article class="card" data-kind="sketch">
          <img class="thumb safe-img" loading="lazy" src="https://picsum.photos/id/1067/1200/900" data-fallback="https://picsum.photos/seed/sketch1/1200/900" referrerpolicy="no-referrer" alt="Sketch — Lines of Silence"/>
          <div class="meta"><span class="pill">Sketch</span><div class="title">Lines of Silence</div></div>
        </article>
        <article class="card" data-kind="mixed">
          <img class="thumb safe-img" loading="lazy" src="https://picsum.photos/id/1035/1200/900" data-fallback="https://picsum.photos/seed/mixed1/1200/900" referrerpolicy="no-referrer" alt="Mixed Media — Orbiting Thought"/>
          <div class="meta"><span class="pill">Mixed</span><div class="title">Orbiting Thought</div></div>
        </article>
        <article class="card" data-kind="painting">
          <img class="thumb safe-img" loading="lazy" src="https://picsum.photos/id/1043/1200/900" data-fallback="https://picsum.photos/seed/paint2/1200/900" referrerpolicy="no-referrer" alt="Painting — Tide & Ember"/>
          <div class="meta"><span class="pill">Painting</span><div class="title">Tide & Ember</div></div>
        </article>
        <article class="card" data-kind="sketch">
          <img class="thumb safe-img" loading="lazy" src="https://picsum.photos/id/1050/1200/900" data-fallback="https://picsum.photos/seed/sketch2/1200/900" referrerpolicy="no-referrer" alt="Sketch — Paper Wings"/>
          <div class="meta"><span class="pill">Sketch</span><div class="title">Paper Wings</div></div>
        </article>
        <article class="card" data-kind="mixed">
          <img class="thumb safe-img" loading="lazy" src="https://picsum.photos/id/106/1200/900" data-fallback="https://picsum.photos/seed/mixed2/1200/900" referrerpolicy="no-referrer" alt="Mixed Media — Echo Layers"/>
          <div class="meta"><span class="pill">Mixed</span><div class="title">Echo Layers</div></div>
        </article>
      </div>
    </section>

    <div class="divider container" aria-hidden="true"></div>

    <section id="writing" class="container reveal" aria-label="Writing">
      <div class="section-title">
        <h2>Writing</h2>
        <p>Reflections • Poems • Novel in Progress</p>
      </div>
      <div class="tabs" id="writingTabs">
        <div class="tab active" data-k="reflection">Reflections</div>
        <div class="tab" data-k="poem">Poems</div>
        <div class="tab" data-k="novel">Novel</div>
      </div>

      <div class="columns" id="writingCols">
        <div class="paper" data-kind="reflection">
          <div class="kind">Reflection • October 2025</div>
          <h3>The Day We Painted Quiet</h3>
          <p>
            The studio window learned our names before we learned the light. Dust floated like tiny planets and every brushstroke
            spun its own gravity. I kept thinking about how silence is not the absence of sound, but the shape of attention.
          </p>
          <a class="more" href="#" data-read="reflection-1">Read full reflection</a>
        </div>

        <div class="paper" data-kind="poem" hidden>
          <div class="kind">Poems by Sanya</div>
          <h3>Featured Poems</h3>
          <p><strong>1) Blueprint of a City I Loved</strong> — a cartography of rooftops, windows, and the names night keeps.</p>
          <a class="more" href="#" data-read="poem-1">Read poem 1</a>
          <p style="margin-top:10px"><strong>2) How Graphite Sleeps</strong> — the pencil becomes a moth, and the page, a warm lamp.</p>
          <a class="more" href="#" data-read="poem-2">Read poem 2</a>
          <p style="margin-top:10px"><strong>3) If We Carry Water</strong> — love as a vessel passed hand to hand.</p>
          <a class="more" href="#" data-read="poem-3">Read poem 3</a>
        </div>

        <div class="paper" data-kind="novel" hidden>
          <div class="kind">Novel • The Quiet Meridian</div>
          <h3>Excerpts</h3>
          <p>Two cities, one river, and a chorus of small, stubborn miracles.</p>
          <a class="more" href="#" data-read="novel-1">Read Excerpt I</a>
          <a class="more" style="margin-left:10px" href="#" data-read="novel-2">Read Excerpt II</a>
        </div>
      </div>
    </section>

    <div class="divider container" aria-hidden="true"></div>

    <section id="about" class="container reveal" aria-label="About Sanya">
      <div class="section-title">
        <h2>About</h2>
        <p>Artist • Writer • Dreamer of honest lines</p>
      </div>
      <div class="about">
        <div class="avatar">
          <img class="safe-img" loading="lazy" src="https://picsum.photos/id/1005/900/1200" data-fallback="https://picsum.photos/seed/portrait-fallback/900/1200" referrerpolicy="no-referrer" alt="Portrait of Sanya"/>
        </div>
        <div>
          <p>
            Hi, I’m Sanya. I draw because graphite understands what words can’t. I paint because colors argue
            beautifully. I write to translate the hush between both.
          </p>
          <p>Commission inquiries, collaboration ideas, or just a hello are always welcome.</p>
          <div class="hero-actions">
            <a class="btn primary" href="#contact">Work with me</a>
            <a class="btn ghost" href="#gallery">View latest pieces</a>
          </div>
        </div>
      </div>
    </section>

    <div class="divider container" aria-hidden="true"></div>

    <section id="contact" class="container reveal" aria-label="Contact">
      <div class="section-title">
        <h2>Contact</h2>
        <p>Let’s make something unforgettable.</p>
      </div>
      <div class="paper contact-wrap" style="max-width:860px;margin:0 auto">
        <form onsubmit="event.preventDefault(); alert('Thanks! Your message was not actually sent (demo).');" class="contact-form">
          <div class="row">
            <div class="field">
              <label for="name">Your name</label>
              <input id="name" aria-label="Your name" required placeholder="Jane Doe" />
            </div>
            <div class="field">
              <label for="email">Email</label>
              <input id="email" aria-label="Email" required type="email" placeholder="you@example.com" />
            </div>
          </div>
          <div class="row">
            <div class="field">
              <label for="subject">Subject</label>
              <input id="subject" aria-label="Subject" required placeholder="Commission / Collaboration" />
            </div>
            <div class="field">
              <label for="budget">Budget (optional)</label>
              <input id="budget" aria-label="Budget" placeholder="$500 - $1500" />
            </div>
          </div>
          <div class="field">
            <label for="message">Message</label>
            <textarea id="message" aria-label="Message" required placeholder="Tell me about your idea" rows="5"></textarea>
          </div>
          <div class="actions">
            <button class="btn ghost" type="reset">Reset</button>
            <button class="btn primary" type="submit">Send Message</button>
          </div>
        </form>
      </div>
    </section>
  </main>

  <footer>
    <div class="container foot">
      <div class="brand-mini">
        <svg viewBox="0 0 64 64" aria-hidden="true">
          <defs>
            <linearGradient id="logo-g-mini" x1="0" y1="0" x2="1" y2="1">
              <stop stop-color="#309d87"/>
              <stop offset="1" stop-color="#7c3aed"/>
            </linearGradient>
          </defs>
          <rect x="6" y="6" width="52" height="52" rx="12" fill="url(#logo-g-mini)"/>
          <path d="M22 20v24M22 32l18-12M22 32l18 12" stroke="#e8fff8" stroke-width="5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        </svg>
        <span>Kurd Studio</span>
      </div>

      <div class="legal">© <span id="year"></span> Kurd Studio · All rights reserved</div>

      <div class="social" aria-label="Social links">
        <a class="ig" href="https://instagram.com/" aria-label="Instagram" target="_blank" rel="noopener">
          <svg width="22" height="22" viewBox="0 0 24 24" aria-hidden="true"><linearGradient id="ig-f" x1="0" y1="0" x2="1" y2="1"><stop offset="0%" stop-color="#F58529"/><stop offset="50%" stop-color="#DD2A7B"/><stop offset="100%" stop-color="#8134AF"/></linearGradient><rect x="3" y="3" width="18" height="18" rx="5" fill="url(#ig-f)"/><circle cx="12" cy="12" r="4.2" fill="#fff"/><circle cx="17.5" cy="6.5" r="1.2" fill="#fff"/></svg>
        </a>
        <a class="fb" href="#" aria-label="Facebook" target="_blank" rel="noopener">
          <svg width="22" height="22" viewBox="0 0 24 24" aria-hidden="true"><path fill="#1877F2" d="M22 12.06C22 6.5 17.52 2 12 2S2 6.5 2 12.06C2 17.04 5.66 21.13 10.44 22v-7.02H8.08V12h2.36V9.8c0-2.33 1.39-3.62 3.52-3.62c1.02 0 2.09.18 2.09.18v2.3h-1.18c-1.17 0-1.53.73-1.53 1.48V12h2.6l-.42 2.98h-2.18V22C18.34 21.13 22 17.04 22 12.06Z"/></svg>
        </a>
        <a class="gm" href="mailto:hello@kurd.studio" aria-label="Gmail">
          <svg width="22" height="22" viewBox="0 0 24 24" aria-hidden="true"><path fill="#EA4335" d="M20 6.5v11.8c0 .4-.3.7-.7.7h-2.8c-.4 0-.7-.3-.7-.7V12L12 14.8 8 12v6.3c0 .4-.3.7-.7.7H4.5c-.4 0-.7-.3-.7-.7V6.5c0-.9 1-1.5 1.8-.9L12 10l6.4-4.4c.8-.5 1.8 0 1.8.9Z"/></svg>
        </a>
        <a class="tw" href="#" aria-label="Twitter" target="_blank" rel="noopener">
          <svg width="22" height="22" viewBox="0 0 24 24" aria-hidden="true"><path fill="#1DA1F2" d="M22 5.8c-.7.3-1.5.6-2.3.7.8-.5 1.4-1.3 1.7-2.2-.8.5-1.7.9-2.7 1.1A3.9 3.9 0 0 0 12 7.8c0 .3 0 .6.1 .9C8.4 8.5 5.2 6.8 3.1 4.2a3.9 3.9 0 0 0-.5 2 3.9 3.9 0 0 0 1.7 3.2c-.6 0-1.2-.2-1.7-.5v.1c0 1.9 1.4 3.6 3.3 4-.4.1-.8.2-1.2.2-.3 0-.6 0-.9-.1a3.9 3.9 0 0 0 3.6 2.7A7.9 7.9 0 0 1 2 19.5c-.4 0-.8 0-1.1-.1A11.2 11.2 0 0 0 7.1 21c7.2 0 11.2-6 11.2-11.2v-.5c.8-.6 1.5-1.3 2.1-2.1z"/></svg>
        </a>
      </div>
    </div>
  </footer>

  <a id="toTop" class="btn back-to-top" href="#top" aria-label="Back to top">↑</a>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" aria-modal="true" role="dialog">
    <button class="btn close" aria-label="Close" onclick="closeLightbox()">
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <path d="M6 6l12 12M18 6L6 18" />
      </svg>
    </button>
    <img alt="preview"/>
  </div>

  <!-- Hidden texts -->
  <template id="reflection-1">
    <h3>The Day We Painted Quiet</h3>
    <p>
      Morning arrived on tiptoe, putting its palms on the glass. We waited for the color to warm, for tea to forgive its steam,
      for the first line to be brave enough to cross the cold paper. You told me, <em>quiet is a bridge</em>. I believed you—
      not because bridges don’t tremble, but because they do.
    </p>
    <p>
      I learned to listen with my shoulders, to let the breath be a metronome, to make a promise to the empty space and keep it.
      The work never shouts. It simply turns toward you when you turn toward it.
    </p>
  </template>

  <template id="poem-1">
    <h3>Blueprint of a City I Loved</h3>
    <p>We drew the river with a borrowed pencil,<br/>soft lead, a weather of graphite and wrists.</p>
    <p>Rooftops kept their knees together, shy;<br/>stairwells practiced echo like a scale.</p>
    <p>Somewhere a window refused to close—the night slipped in, letter by letter, spelling your name on the ceiling fan.</p>
    <p>By morning, the city had a heartbeat;<br/>we folded the map and it beat in our hands.</p>
  </template>

  <template id="poem-2">
    <h3>How Graphite Sleeps</h3>
    <p>The pencil sleeps with one eye open— a moth pretending to be a branch.</p>
    <p>When the room exhales its lamps, it rises, dust-lit, to circle the page, looking for the warmest margin.</p>
    <p>In that glow, it remembers every line it could not finish, every face half-turned— and lands, finally, on the word <em>begin</em>.</p>
  </template>

  <template id="poem-3">
    <h3>If We Carry Water</h3>
    <p>If we carry water in our hands, the path will teach us balance.</p>
    <p>If we carry water in our mouths, the words will learn to be careful.</p>
    <p>But if we carry water in our hearts, even the stones will soften their edges.</p>
  </template>

  <template id="novel-1">
    <h3>The Quiet Meridian — Excerpt I</h3>
    <p>
      The river didn’t divide the city so much as tune it. On our side, mornings began low and amber, shopkeepers clinking
      shutters like wind chimes. Across the water, trams stitched the fog with silver thread. I met you halfway, where the
      bridge kept its secrets in the bolts. You said the tide had two names. I believed you.
    </p>
  </template>

  <template id="novel-2">
    <h3>The Quiet Meridian — Excerpt II</h3>
    <p>
      That winter, we measured time in kettles. Every hour a warm, whistled vow. We pinned rough drafts above the radiator
      and watched the paper curl like listening ears. When the power left the street, the dark became a room we could afford.
      You held the book we hadn’t written yet the way sailors hold a compass: not for where it points, but for how it steadies the hand.
    </p>
  </template>

  <script>

    document.getElementById('year').textContent = new Date().getFullYear();
    document.getElementById('yearMobile').textContent = new Date().getFullYear();

    const root = document.documentElement;
    const savedTheme = localStorage.getItem('kurd-theme');
    if(savedTheme) root.setAttribute('data-theme', savedTheme);
    function toggleTheme(){
      const next = root.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';
      root.setAttribute('data-theme', next);
      localStorage.setItem('kurd-theme', next);
    }
    document.getElementById('themeToggle').addEventListener('click', toggleTheme);
    document.getElementById('themeToggleMobile').addEventListener('click', toggleTheme);

    const menuBtn = document.getElementById('menuBtn');
    const mobileMenu = document.getElementById('mobileMenu');
    const closeMenu = document.getElementById('closeMenu');
    function openMenu(){ mobileMenu.classList.add('open'); mobileMenu.setAttribute('aria-hidden','false'); document.body.style.overflow = 'hidden'; }
    function hideMenu(){ mobileMenu.classList.remove('open'); mobileMenu.setAttribute('aria-hidden','true'); document.body.style.overflow = ''; }
    menuBtn.addEventListener('click', openMenu);
    closeMenu.addEventListener('click', hideMenu);
    mobileMenu.addEventListener('click', (e)=>{ if(e.target === mobileMenu) hideMenu(); });
    document.querySelectorAll('.mobile-links a').forEach(a=> a.addEventListener('click', hideMenu));

    const sections = ['#gallery','#writing','#about','#contact'].map(sel=>document.querySelector(sel));
    const links = new Map(Array.from(document.querySelectorAll('header a[href^="#"]')).map(a=>[a.getAttribute('href'), a]));
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(en=>{
        if(en.isIntersecting){
          links.forEach(l=>{ l.classList.remove('active'); l.removeAttribute('aria-current'); });
          const link = links.get('#'+en.target.id);
          if(link){ link.classList.add('active'); link.setAttribute('aria-current','page'); }
        }
      });
    },{threshold:0.55});
    sections.forEach(s=> s && io.observe(s));

    const toTop = document.getElementById('toTop');
    window.addEventListener('scroll', ()=>{ if(scrollY>600) toTop.classList.add('show'); else toTop.classList.remove('show'); });
    toTop?.addEventListener('click', (e)=>{ e.preventDefault(); window.scrollTo({top:0, behavior:'smooth'}); });

    const gTabs = document.querySelectorAll('#galleryTabs .tab');
    const gCards = document.querySelectorAll('.card');
    function applyGalleryFilter(kind){ gCards.forEach(c=>{ c.style.display = (kind==='all' || c.dataset.kind===kind) ? 'block' : 'none'; }); }
    function setActiveGalleryTab(btn){
      gTabs.forEach(x=>{x.classList.remove('active'); x.setAttribute('aria-selected','false');});
      btn.classList.add('active'); btn.setAttribute('aria-selected','true');
      applyGalleryFilter(btn.dataset.filter);
    }
    gTabs.forEach(t=> t.addEventListener('click', ()=> setActiveGalleryTab(t)));

    const galleryEl = document.getElementById('gallery');
    const galleryObserver = new IntersectionObserver((entries)=>{
      entries.forEach(en=>{
        if(en.isIntersecting){
          const allTab = document.querySelector('#galleryTabs .tab[data-filter="all"]');
          if(allTab) setActiveGalleryTab(allTab);
        }
      });
    },{threshold:0.6});
    if(galleryEl) galleryObserver.observe(galleryEl);

    const gridEl = document.getElementById('grid');
    const lb = document.getElementById('lightbox');
    const lbImg = lb.querySelector('img');
    gridEl?.addEventListener('click', (e) => {
      const target = e.target.closest('img.thumb');
      if(!target) return;
      lbImg.src = target.src;
      lb.classList.add('open');
    });
    function closeLightbox(){ lb.classList.remove('open'); lbImg.src = ''; }
    window.closeLightbox = closeLightbox;
    lb.addEventListener('click', (e)=>{ if(e.target === lb) closeLightbox(); });
    window.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeLightbox(); });

    const tabs = document.querySelectorAll('#writingTabs .tab');
    const panes = document.querySelectorAll('#writingCols .paper');
    tabs.forEach(t=>t.addEventListener('click', ()=>{
      tabs.forEach(x=>x.classList.remove('active'));
      t.classList.add('active');
      const k = t.dataset.k;
      panes.forEach(p=>{ p.hidden = (p.dataset.kind !== k); });
    }));

    function smartScrollTo(target, offsetExtra = 12){
      if(!target) return;
      const header = document.querySelector('header');
      const offset = (header?.offsetHeight || 64) + offsetExtra; 
      const y = Math.max(0, target.getBoundingClientRect().top + window.scrollY - offset);
      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      window.scrollTo({ top: y, behavior: prefersReduced ? 'auto' : 'smooth' });
    }

    const writingSection = document.querySelector('#writing');

    function removeExistingReading() {
      const open = writingSection.querySelector('.reading-pop');
      if(!open) return null;
      open.classList.add('closing');
      open.addEventListener('animationend', ()=> open.remove(), { once: true });
      return open;
    }

    function createDismissButton() {
      const btn = document.createElement('button');
      btn.type = 'button';
      btn.className = 'dismiss-reading';
      btn.setAttribute('aria-label','Close');
      btn.innerHTML = `<svg viewBox="0 0 24 24" aria-hidden="true"><path d="M6 6l12 12M18 6L6 18"/></svg>`;
      return btn;
    }

    function openReading(id){
      const tpl = document.getElementById(id);
      if(!tpl) return;
      removeExistingReading();

      const box = document.createElement('div');
      box.className = 'reading-pop';
      box.innerHTML = tpl.innerHTML;
      const dismiss = createDismissButton();
      box.appendChild(dismiss);

      writingSection.appendChild(box);

      smartScrollTo(box, 14);
    }

    document.addEventListener('click', (e)=>{
      const trigger = e.target.closest('[data-read]');
      if(trigger){
        e.preventDefault();
        openReading(trigger.getAttribute('data-read'));
        return;
      }
      const closer = e.target.closest('.dismiss-reading');
      if(closer){
        e.preventDefault();
        const panel = closer.closest('.reading-pop');
        if(panel){
          panel.classList.add('closing');
          panel.addEventListener('animationend', ()=> panel.remove(), { once:true });

          smartScrollTo(document.getElementById('writing'), 16);
        }
      }
    });

    const reveals = document.querySelectorAll('.reveal');
    const ro = new IntersectionObserver((entries)=>{
      entries.forEach(en=>{ if(en.isIntersecting){ en.target.classList.add('visible'); ro.unobserve(en.target); }});
    },{threshold:0.15});
    reveals.forEach(el=> ro.observe(el));

    document.querySelectorAll('img.safe-img').forEach(img=>{
      img.addEventListener('error', function(){
        if(this.dataset.fallback && this.src !== this.dataset.fallback){
          this.src = this.dataset.fallback;
        }
      }, {once:true});
    });

    const pre = document.getElementById('preloader');
    function hidePreloader(){
      pre.classList.add('hidden');
      document.body.classList.remove('lock-scroll');
    }
    window.addEventListener('load', () => { setTimeout(hidePreloader, 350); });
    setTimeout(hidePreloader, 4000);
  </script>
</body>
</html>
